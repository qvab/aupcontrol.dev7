this.BX=this.BX||{};(function(e,t){"use strict";function o(){var e=babelHelpers.taggedTemplateLiteral(['<div class="sender-user-error-handler-text">\n\t\t\t',"\n\t\t\t<br>\n\t\t\t","\n\t\t\t</div>"]);o=function t(){return e};return e}var n=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,[{key:"onError",value:function e(o,n,r,i){var a=this.getHandlers(r,i);if(a.hasOwnProperty(o)&&t.Type.isFunction(a[o])){a[o].apply(this,[n])}}},{key:"getHandlers",value:function e(t,o,n){return{WRONG_EMAIL_FROM:this.getWrongEmailFromHandler.bind(this,t,o,n),FEATURE_NOT_AVAILABLE:this.getFeatureUnavailableHandler.bind(this,t,o,n)}}},{key:"getWrongEmailFromHandler",value:function e(n,r,i,a){var s=this;if(i){Object.assign(a,i)}this.oncloseCalbackActive=true;if(!this.wrongEmailFromPopup){this.wrongEmailFromPopup=BX.PopupWindowManager.create({id:"sender_user_error_wrongEmailFrom",autoHide:true,lightShadow:true,closeByEsc:true,overlay:{backgroundColor:"black",opacity:500},events:{onPopupClose:function e(){if(s.oncloseCalbackActive&&t.Type.isFunction(r)){r(a)}}}})}this.wrongEmailFromPopup.setContent(t.Tag.render(o(),t.Loc.getMessage("SENDER_ERROR_HANDLER_WRONG_FROM_EMAIL_TITLE"),t.Loc.getMessage("SENDER_ERROR_HANDLER_WRONG_FROM_EMAIL_MESSAGE")));this.wrongEmailFromPopup.setButtons([new BX.UI.Button({text:t.Loc.getMessage("SENDER_ERROR_HANDLER_WRONG_FROM_EMAIL_EDIT_EMAIL"),color:BX.UI.Button.Color.SUCCESS,onclick:function e(){location.href=a.editUrl;s.oncloseCalbackActive=false;s.wrongEmailFromPopup.close()}}),new BX.UI.Button({text:t.Loc.getMessage("SENDER_ERROR_HANDLER_WRONG_FROM_EMAIL_CANCEL"),color:BX.UI.Button.Color.LINK,onclick:function e(){s.wrongEmailFromPopup.close()}})]);this.wrongEmailFromPopup.show()}},{key:"getFeatureUnavailableHandler",value:function e(t,o,n,r){if(n){Object.assign(r,n)}if(BX.Sender.B24License){BX.Sender.B24License.showPopup("Ad")}o(r)}}]);return e}();e.ErrorHandler=n})(this.BX.Sender=this.BX.Sender||{},BX);
//# sourceMappingURL=error_handler.bundle.map.js