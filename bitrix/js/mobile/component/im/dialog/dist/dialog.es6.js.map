{"version":3,"file":"dialog.es6.js","sources":["../src/rest.handler.js","../src/dialog.js","../src/component/bx-messenger.js","../src/component/bx-messenger-body-error.js","../src/component/bx-messenger-body-loading.js","../src/component/bx-messenger-body-empty.js","../src/registry.js"],"sourcesContent":["/**\n * Bitrix Mobile Dialog\n * Dialog Rest answers (Rest Answer Handler)\n *\n * @package bitrix\n * @subpackage mobile\n * @copyright 2001-2019 Bitrix\n */\n\nimport {BaseRestAnswerHandler} from \"im.provider.rest\";\nimport {LocalStorage} from \"im.tools.localstorage\";\n\nexport class MobileRestAnswerHandler extends BaseRestAnswerHandler\n{\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\n\t\tif (typeof params.context === 'object' && params.context)\n\t\t{\n\t\t\tthis.context = params.context;\n\t\t}\n\t}\n\n\thandleImChatGetSuccess(data)\n\t{\n\t\tthis.store.commit('application/set', {dialog: {\n\t\t\tchatId: data.id,\n\t\t\tdialogId: data.dialog_id,\n\t\t\tdiskFolderId: data.disk_folder_id,\n\t\t}});\n\n\t\tthis.context.redrawHeader();\n\t}\n\thandleImChatGetError(error)\n\t{\n\t\tif (error.ex.error === 'ACCESS_ERROR')\n\t\t{\n\t\t\tapp.closeController();\n\t\t}\n\t}\n\n\thandleMobileBrowserConstGetSuccess(data)\n\t{\n\t\tthis.store.commit('application/set', {disk: {\n\t\t\tenabled: true,\n\t\t\tmaxFileSize: data.phpUploadMaxFilesize\n\t\t}});\n\n\t\tthis.context.addLocalize(data);\n\t\tBX.message(data);\n\n\t\tLocalStorage.set(this.controller.getSiteId(), 0, 'serverVariables', data || {});\n\t}\n\n\thandleImMessageAddSuccess(messageId, message)\n\t{\n\t\tthis.context.messagesQueue = this.context.messagesQueue.filter(el => el.id !== message.id);\n\t}\n\n\thandleImMessageAddError(error, message)\n\t{\n\t\tthis.context.messagesQueue = this.context.messagesQueue.filter(el => el.id !== message.id);\n\t}\n\n\thandleImDiskFileCommitSuccess(result, message)\n\t{\n\t\tthis.context.messagesQueue = this.context.messagesQueue.filter(el => el.id !== message.id);\n\t}\n}","/**\n * Bitrix im dialog mobile\n * Dialog runtime class\n *\n * @package bitrix\n * @subpackage mobile\n * @copyright 2001-2019 Bitrix\n */\n\n// main\nimport \"main.date\";\n\n// pull\nimport {PULL as Pull, PullClient} from \"mobile.pull.client\";\n\n// ui\nimport {Vue} from \"ui.vue\";\nimport {VuexBuilder} from \"ui.vue.vuex\";\n\n// messenger files\nimport {ApplicationModel, MessagesModel, DialoguesModel, UsersModel, FilesModel} from 'im.model';\nimport {ApplicationController} from 'im.controller';\nimport {\n\tDeviceType,\n\tDeviceOrientation,\n\tRestMethod,\n\tRestMethodHandler,\n\tEventType,\n\tDialogReferenceClassName,\n\tFileStatus,\n\tFileType,\n} from 'im.const';\nimport {Utils} from \"im.utils\";\nimport {LocalStorage} from \"im.tools.localstorage\";\nimport {ImRestAnswerHandler} from \"im.provider.rest\";\nimport {ImPullCommandHandler} from \"im.provider.pull\";\nimport {MobileRestAnswerHandler} from \"./rest.handler\";\nimport {Timer} from \"im.tools.timer\";\n\n// TODO change BX.Promise, BX.Main.Date to IMPORT\n\nexport class Dialog\n{\n\t/* region 01. Initialize and store data */\n\n\tconstructor(params = {})\n\t{\n\t\tthis.ready = true;\n\n\t\tthis.offline = false;\n\n\t\tthis.host = currentDomain;\n\n\t\tthis.inited = false;\n\n\t\tthis.restClient = BX.rest;\n\n\t\tthis.customData = [];\n\n\t\tthis.localize = {...BX.message};\n\n\t\tthis.subscribers = {};\n\t\tthis.dateFormat = null;\n\n\t\tthis.messagesQueue = [];\n\n\t\tthis.configRequestXhr = null;\n\n\t\tthis.windowFocused = true;\n\n\t\tthis.rootNode = document.getElementById('messenger-root');\n\n\t\tthis.template = null;\n\n\t\tthis.timer = new Timer();\n\n\t\twindow.addEventListener('orientationchange', () => {\n\t\t\tif (!this.store)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.store.commit('application/set', {\n\t\t\t\tdevice : {\n\t\t\t\t\torientation : Utils.device.getOrientation()\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tthis.store.state.application.device.type === DeviceType.mobile\n\t\t\t\t&& this.store.state.application.device.orientation === DeviceOrientation.horizontal\n\t\t\t)\n\t\t\t{\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\t\t});\n\n\t\t// todo change to dynamic storage (LocalStorage web, PageParams for mobile)\n\t\tlet serverVariables = LocalStorage.get(this.getSiteId(), 0, 'serverVariables', false);\n\t\tif (serverVariables)\n\t\t{\n\t\t\tthis.addLocalize(serverVariables);\n\t\t}\n\n\t\t//alert('Pause: open console for debug');\n\n\t\tBX.componentParameters.init()\n\t\t\t.then(result => this.initMobileSettings(result))\n\t\t\t.then(result => this.initStorage(result))\n\t\t\t.then(result => this.initComponent(result))\n\t\t\t.then(result => this.requestData(result))\n\t\t\t.then(result => this.initEnvironment(result))\n\t\t\t.then(result => this.initMobileEnvironment(result))\n\t\t\t.then(result => this.initPullClient(result))\n\t\t;\n\t}\n\n\tinitMobileSettings(data)\n\t{\n\t\tconsole.log('1. initMobileSettings');\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tApplicationStorage.getObject('settings.chat', {\n\t\t\t\tautoplayVideo: ChatPerformance.isAutoPlayVideoSupported(),\n\t\t\t\tbackgroundType: 'LIGHT_GRAY'\n\t\t\t}).then(value => {\n\t\t\t\tdata.OPTIONS = value;\n\t\t\t\tresolve(data);\n\t\t\t})\n\t\t});\n\t}\n\n\tinitStorage(data)\n\t{\n\t\tconsole.log('2. initStorage');\n\n\t\tthis.controller = new ApplicationController();\n\n\t\tthis.localize['SITE_DIR'] = data.SITE_DIR;\n\n\t\tlet applicationVariables = {\n\t\t\tcommon: {\n\t\t\t\thost: this.host,\n\t\t\t\tuserId: data.USER_ID,\n\t\t\t\tsiteId: data.SITE_ID,\n\t\t\t\tlanguageId: data.LANGUAGE_ID,\n\t\t\t},\n\t\t\tdevice: {\n\t\t\t\ttype: Utils.device.isMobile()? DeviceType.mobile: DeviceType.desktop,\n\t\t\t\torientation: Utils.device.getOrientation(),\n\t\t\t},\n\t\t\tdialog: {\n\t\t\t\tdialogId: data.DIALOG_ID,\n\t\t\t\tmessageLimit: this.controller.getDefaultMessageLimit(),\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tautoplayVideo: data.OPTIONS.autoplayVideo,\n\t\t\t\tdarkBackground: ChatDialogBackground && ChatDialogBackground[data.OPTIONS.backgroundType] && ChatDialogBackground[data.OPTIONS.backgroundType].dark\n\t\t\t}\n\t\t};\n\n\t\treturn new VuexBuilder()\n\t\t\t.addModel(ApplicationModel.create().useDatabase(false).setVariables(applicationVariables))\n\t\t\t.addModel(MessagesModel.create())\n\t\t\t.addModel(DialoguesModel.create().setVariables({host: this.host}))\n\t\t\t.addModel(FilesModel.create().setVariables({host: this.host, default: {name: this.getLocalize('IM_MESSENGER_MESSAGE_FILE_DELETED')}}))\n\t\t\t.addModel(UsersModel.create().setVariables({host: this.host, default: {name: this.getLocalize('IM_MESSENGER_MESSAGE_USER_ANONYM')}}))\n\t\t\t.setDatabaseConfig({\n\t\t\t\tname: 'mobile/im/'+data.DIALOG_ID,\n\t\t\t\ttype: VuexBuilder.DatabaseType.jnSharedStorage,\n\t\t\t\tsiteId: data.SITE_ID,\n\t\t\t\tuserId: data.USER_ID,\n\t\t\t})\n\t\t.build();\n\t}\n\n\tinitComponent(result)\n\t{\n\t\tconsole.log('3. initComponent');\n\n\t\tthis.store = result.store;\n\n\t\t//this.store.subscribe(mutation => this.eventStoreInteraction(mutation));\n\n\t\tthis.storeCollector = result.builder;\n\n\t\tthis.controller.setStore(this.store);\n\t\tthis.controller.setRestClient(this.restClient);\n\t\tthis.controller.setPrepareFilesBeforeSaveFunction(this.prepareFileData.bind(this));\n\n\t\tthis.imRestAnswer = ImRestAnswerHandler.create({\n\t\t\tstore: this.store,\n\t\t\tcontroller: this.controller,\n\t\t});\n\t\tthis.mobileRestAnswer = MobileRestAnswerHandler.create({\n\t\t\tstore: this.store,\n\t\t\tcontroller: this.controller,\n\t\t\tcontext: this,\n\t\t});\n\n\t\tlet dialog = this.store.getters['dialogues/get'](this.controller.getDialogId());\n\t\tif (dialog)\n\t\t{\n\t\t\tthis.store.commit('application/set', {dialog: {\n\t\t\t\tchatId: dialog.chatId,\n\t\t\t\tdiskFolderId: dialog.diskFolderId || 0\n\t\t\t}});\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => resolve());\n\t}\n\n\tinitEnvironment(result)\n\t{\n\t\tlet executionTime = new Date();\n\t\tthis.template = this.attachTemplate();\n\t\tconsole.log('5. initEnvironment', (+new Date() - executionTime)+'ms');\n\n\t\tthis.controller.setTemplateEngine(this.template);\n\n\t\tthis.setTextareaMessage = Utils.debounce(this.controller.setTextareaMessage, 300, this.controller);\n\n\t\twindow.addEventListener('orientationchange', () =>\n\t\t{\n\t\t\tif (!this.store)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.store.commit('application/set', {device: {\n\t\t\t\torientation: Utils.device.getOrientation()\n\t\t\t}});\n\t\t});\n\n\t\treturn new Promise((resolve, reject) => resolve());\n\t}\n\tinitMobileEnvironment(result)\n\t{\n\t\tconsole.log('6. initMobileEnvironment');\n\n\t\tBXMobileApp.UI.Page.Scroll.setEnabled(false);\n\t\tBXMobileApp.UI.Page.captureKeyboardEvents(true);\n\n\t\tdocument.addEventListener('resize', () => setTimeout(() => {\n\t\t\tthis.controller.emit('EventType.dialog.scrollToBottom', {duration: 300, cancelIfScrollChange: true});\n\t\t}, 300));\n\n\t\tBX.addCustomEvent(\"onKeyboardWillShow\", () => {\n\n\t\t\tconsole.log('onKeyboardWillShow');\n\t\t\tthis.store.dispatch('application/set', {mobile: {\n\t\t\t\tkeyboardShow: true,\n\t\t\t}});\n\n\t\t});\n\t\tBX.addCustomEvent(\"onKeyboardDidShow\", () => {\n\t\t\tif (Utils.platform.isAndroid())\n\t\t\t{\n\t\t\t\tthis.controller.emit('EventType.dialog.scrollToBottom', {duration: 300, cancelIfScrollChange: true});\n\t\t\t}\n\t\t});\n\t\tBX.addCustomEvent(\"onKeyboardWillHide\", () => {\n\n\t\t\tconsole.log('onKeyboardWillHide');\n\t\t\tclearInterval(this.keyboardOpeningInterval);\n\t\t\tthis.store.dispatch('application/set', {mobile: {\n\t\t\t\tkeyboardShow: false,\n\t\t\t}});\n\t\t});\n\n\t\tconst checkWindowFocused = () =>\n\t\t{\n\t\t\t//if (this.isBackground())\n\t\t\t//{\n\t\t\t//\tthis.windowFocused = false;\n\t\t\t//\tVue.event.$emit('bitrixmobile:controller:blur');\n\t\t\t//\treturn false;\n\t\t\t//}\n\n\t\t\tBXMobileApp.UI.Page.isVisible({callback: BX.delegate(function(data){\n\t\t\t\tthis.windowFocused = data.status === 'visible';\n\t\t\t\tif (this.windowFocused)\n\t\t\t\t{\n\t\t\t\t\tVue.event.$emit('bitrixmobile:controller:focus');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tVue.event.$emit('bitrixmobile:controller:blur');\n\t\t\t\t}\n\t\t\t},this)});\n\t\t};\n\n\t\tBX.addCustomEvent(\"onAppActive\", checkWindowFocused);\n\t\tBX.addCustomEvent(\"onAppPaused\", () => {\n\t\t\tthis.windowFocused = false;\n\t\t\tVue.event.$emit('bitrixmobile:controller:blur');\n\t\t});\n\n\t\tBX.addCustomEvent(\"onOpenPageAfter\", checkWindowFocused);\n\t\tBX.addCustomEvent(\"onHidePageBefore\", () => {\n\t\t\tthis.windowFocused = false;\n\t\t\tVue.event.$emit('bitrixmobile:controller:blur');\n\t\t});\n\n\t\tBXMobileApp.addCustomEvent(\"chatbackground::task::status::success\", (params) => {\n\t\t\tlet action = params.taskId.toString().split('|')[0];\n\t\t\tthis.executeBackgroundTaskSuccess(action, params);\n\t\t});\n\t\tBXMobileApp.addCustomEvent(\"chatbackground::task::status::failure\", (params) => {\n\t\t\tlet action = params.taskId.toString().split('|')[0];\n\t\t\tthis.executeBackgroundTaskFailure(action, params);\n\t\t});\n\n\t\tBXMobileApp.UI.Page.TextPanel.setParams(this.getKeyboardParams());\n\t\tthis.changeChatKeyboardStatus();\n\n\t\tBX.MobileUploadProvider.setListener(this.executeUploaderEvent.bind(this));\n\n\t\tthis.fileUpdateProgress = Utils.throttle((chatId, fileId, progress, size) => {\n\t\t\tthis.store.dispatch('files/update', {\n\t\t\t\tchatId: chatId,\n\t\t\t\tid: fileId,\n\t\t\t\tfields: {\n\t\t\t\t\tsize: size,\n\t\t\t\t\tprogress: progress\n\t\t\t\t}\n\t\t\t});\n\t\t}, 500);\n\n\t\tif (Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\tapp.exec(\"setRightButtons\", {items:[\n\t\t\t\t{\n\t\t\t\t\ttype: \"user_plus\",\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatAddUserButton\", {});\n\t\t\t\t\t\tthis.openAddUserDialog()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]});\n\t\t}\n\n\t\tif (!Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\tthis.userShowWorkPosition = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.userShowWorkPosition = false;\n\t\t\t\tthis.redrawHeader();\n\t\t\t}, 1500);\n\n\t\t\tsetInterval(() => {\n\t\t\t\tthis.redrawHeader();\n\t\t\t}, 60000);\n\t\t}\n\n\t\tthis.redrawHeader();\n\n\t\tthis.widgetCache = new ChatWidgetCache(this.controller.getUserId(), this.controller.getLanguageId());\n\n\t\treturn new Promise((resolve, reject) => resolve());\n\t}\n\n\tinitPullClient()\n\t{\n\t\tconsole.log('7. initPullClient');\n\n\t\tPull.subscribe(\n\t\t\tthis.pullCommandHandler = new ImPullCommandHandler({\n\t\t\t\tstore: this.store,\n\t\t\t\tcontroller: this.controller,\n\t\t\t\toptions: {\n\t\t\t\t\thandlingDialog: {\n\t\t\t\t\t\tchatId: this.controller.getChatId(),\n\t\t\t\t\t\tdialogId: this.controller.getDialogId(),\n\t\t\t\t\t\tskip: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tPull.subscribe({\n\t\t\ttype: BX.PullClient.SubscriptionType.Server,\n\t\t\tmoduleId: 'im',\n\t\t\tcommand: 'chatUserLeave',\n\t\t\tcallback: (params) =>\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\tparams.userId === this.controller.getUserId()\n\t\t\t\t\t&& params.dialogId === this.controller.getDialogId()\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tapp.closeController();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tPull.subscribe({\n\t\t\ttype: PullClient.SubscriptionType.Status,\n\t\t\tcallback: this.eventStatusInteraction.bind(this)\n\t\t});\n\n\t\tif (!Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\tPull.subscribe({\n\t\t\t\ttype: PullClient.SubscriptionType.Online,\n\t\t\t\tcallback: this.eventOnlineInteraction.bind(this)\n\t\t\t});\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => resolve());\n\t}\n\n\trequestData()\n\t{\n\t\tconsole.log('4. requestData');\n\n\t\tif (this.requestDataSend)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\tthis.timer.start('data', 'load', 2, () => {\n\t\t\tconsole.warn(\"ChatDialog.requestData: slow connection show progress icon\");\n\t\t\tapp.titleAction(\"setParams\", {useProgress: true, useLetterImage: false});\n\t\t});\n\n\t\tthis.requestDataSend = true;\n\n\t\tlet query = {\n\t\t\t[RestMethodHandler.mobileBrowserConstGet]: [RestMethod.mobileBrowserConstGet, {}],\n\t\t\t[RestMethodHandler.imChatGet]: [RestMethod.imChatGet, {dialog_id: this.controller.getDialogId()}],\n\t\t\t[RestMethodHandler.imDialogMessagesGetInit]: [RestMethod.imDialogMessagesGet, {\n\t\t\t\tdialog_id: this.controller.getDialogId(),\n\t\t\t\tlimit: this.controller.getRequestMessageLimit(),\n\t\t\t\tconvert_text: 'Y'\n\t\t\t}],\n\t\t};\n\t\tif (Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\tquery[RestMethodHandler.imUserGet] = [RestMethod.imUserGet, {}];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tquery[RestMethodHandler.imUserListGet] = [RestMethod.imUserListGet, {id: [this.controller.getUserId(), this.controller.getDialogId()]}];\n\t\t}\n\n\t\tthis.restClient.callBatch(query, (response) =>\n\t\t{\n\t\t\tif (!response)\n\t\t\t{\n\t\t\t\tthis.requestDataSend = false;\n\t\t\t\tthis.setError('EMPTY_RESPONSE', 'Server returned an empty response.');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet constGet = response[RestMethodHandler.mobileBrowserConstGet];\n\t\t\tif (constGet.error())\n\t\t\t{\n\t\t\t\t// this.setError(constGet.error().ex.error, constGet.error().ex.error_description);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.executeRestAnswer(RestMethodHandler.mobileBrowserConstGet, constGet);\n\t\t\t}\n\n\t\t\tlet userGet = response[RestMethodHandler.imUserGet];\n\t\t\tif (userGet && !userGet.error())\n\t\t\t{\n\t\t\t\tthis.executeRestAnswer(RestMethodHandler.imUserGet, userGet);\n\t\t\t}\n\n\t\t\tlet userListGet = response[RestMethodHandler.imUserListGet];\n\t\t\tif (userListGet && !userListGet.error())\n\t\t\t{\n\t\t\t\tthis.executeRestAnswer(RestMethodHandler.imUserListGet, userListGet);\n\t\t\t}\n\n\t\t\tlet chatGetResult = response[RestMethodHandler.imChatGet];\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imChatGet, chatGetResult);\n\n\t\t\tlet dialogMessagesGetResult = response[RestMethodHandler.imDialogMessagesGetInit];\n\t\t\tif (dialogMessagesGetResult.error())\n\t\t\t{\n\t\t\t\t//this.setError(dialogMessagesGetResult.error().ex.error, dialogMessagesGetResult.error().ex.error_description);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tapp.titleAction(\"setParams\", {useProgress: false, useLetterImage: true});\n\t\t\t\tthis.timer.stop('data', 'load', true);\n\n\t\t\t\tthis.store.dispatch('dialogues/saveDialog', {\n\t\t\t\t\tdialogId: this.controller.getDialogId(),\n\t\t\t\t\tchatId: this.controller.getChatId(),\n\t\t\t\t});\n\n\t\t\t\tthis.executeRestAnswer(RestMethodHandler.imDialogMessagesGetInit, dialogMessagesGetResult);\n\n\t\t\t\tthis.pullCommandHandler.option.skip = false;\n\n\t\t\t\tthis.processMarkReadMessages();\n\t\t\t\tthis.processSendMessages();\n\t\t\t}\n\n\t\t\tthis.requestDataSend = false;\n\t\t}, false, false, Utils.getLogTrackingParams({name: 'mobile.im.dialog', dialog: this.controller.getDialogData()}));\n\n\t\treturn new Promise((resolve, reject) => resolve());\n\t}\n\n\texecuteRestAnswer(command, result, extra)\n\t{\n\t\tconsole.warn(command, result, extra);\n\t\tthis.imRestAnswer.execute(command, result, extra);\n\t\tthis.mobileRestAnswer.execute(command, result, extra);\n\t}\n\n\texecuteUploaderEvent(eventName, eventData, taskId)\n\t{\n\t\tif (eventName !== BX.MobileUploaderConst.FILE_UPLOAD_PROGRESS)\n\t\t{\n\t\t\tconsole.log(\"ChatDialog.disk.eventRouter: \", eventName, taskId, eventData);\n\t\t}\n\n\t\tif (eventName === BX.MobileUploaderConst.FILE_UPLOAD_PROGRESS)\n\t\t{\n\t\t\tif (eventData.percent > 95)\n\t\t\t{\n\t\t\t\teventData.percent = 95;\n\t\t\t}\n\t\t\tthis.fileUpdateProgress(eventData.file.params.chatId, eventData.file.params.file.id, eventData.percent, eventData.byteTotal);\n\t\t}\n\t\telse if (eventName === BX.MobileUploaderConst.FILE_CREATED)\n\t\t{\n\t\t\tif (eventData.result.status === 'error')\n\t\t\t{\n\t\t\t\tthis.fileError(eventData.file.params.chatId, eventData.file.params.file.id, eventData.file.params.id);\n\t\t\t\tconsole.error('File upload error', eventData.result.errors[0].message);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.store.dispatch('files/update', {\n\t\t\t\t\tchatId: eventData.file.params.chatId,\n\t\t\t\t\tid: eventData.file.params.file.id,\n\t\t\t\t\tfields: {\n\t\t\t\t\t\tstatus: FileStatus.wait,\n\t\t\t\t\t\tprogress: 95\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse if (eventName === 'onimdiskmessageaddsuccess')\n\t\t{\n\t\t\tconsole.info('ChatDialog.disk.eventRouter: DISK_MESSAGE_ADD_SUCCESS: ', eventData, taskId);\n\t\t\tthis.store.dispatch('files/update', {\n\t\t\t\tchatId: eventData.file.params.chatId,\n\t\t\t\tid: eventData.file.params.file.id,\n\t\t\t\tfields: {\n\t\t\t\t\tstatus: FileStatus.upload,\n\t\t\t\t\tprogress: 100\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (eventName === 'onimdiskmessageaddfail')\n\t\t{\n\t\t\tconsole.error('ChatDialog.disk.eventRouter: DISK_MESSAGE_ADD_FAIL: ', eventData, taskId);\n\t\t\tthis.fileError(eventData.file.params.chatId, eventData.file.params.file.id, eventData.file.params.id);\n\t\t}\n\t\telse if (\n\t\t\teventName === BX.MobileUploaderConst.TASK_CANCELLED\n\t\t\t|| eventName === BX.MobileUploaderConst.TASK_NOT_FOUND\n\t\t)\n\t\t{\n\t\t\tthis.cancelUploadFile(eventData.file.params.file.id);\n\t\t}\n\t\telse if (\n\t\t\teventName === BX.MobileUploaderConst.FILE_CREATED_FAILED\n\t\t\t|| eventName === BX.MobileUploaderConst.FILE_UPLOAD_FAILED\n\t\t\t|| eventName === BX.MobileUploaderConst.FILE_READ_ERROR\n\t\t\t|| eventName === BX.MobileUploaderConst.TASK_STARTED_FAILED\n\t\t)\n\t\t{\n\t\t\tconsole.error('ChatDialog.disk.eventRouter: ', eventName, eventData, taskId);\n\t\t\tthis.fileError(eventData.file.params.chatId, eventData.file.params.file.id, eventData.file.params.id);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tprepareFileData(files)\n\t{\n\t\tlet prepareFunction = (file) =>\n\t\t{\n\t\t\tif (file.urlPreview && file.urlPreview.startsWith('file://'))\n\t\t\t{\n\t\t\t\tfile.urlPreview = 'bx'+file.urlPreview;\n\t\t\t}\n\t\t\tif (file.urlShow && file.urlShow.startsWith('file://'))\n\t\t\t{\n\t\t\t\tfile.urlShow = 'bx'+file.urlShow;\n\t\t\t}\n\n\t\t\tif (file.type !== FileType.image)\n\t\t\t{\n\t\t\t\treturn file;\n\t\t\t}\n\n\t\t\tif (file.urlPreview)\n\t\t\t{\n\t\t\t\tif (file.urlPreview.startsWith('/'))\n\t\t\t\t{\n\t\t\t\t\tfile.urlPreview = currentDomain+file.urlPreview;\n\t\t\t\t}\n\n\t\t\t\tfile.urlPreview = file.urlPreview\n\t\t\t\t\t.replace('http://', 'bxhttp://')\n\t\t\t\t\t.replace('https://', 'bxhttps://');\n\t\t\t}\n\n\t\t\tif (file.urlShow)\n\t\t\t{\n\t\t\t\tif (file.urlShow.startsWith('/'))\n\t\t\t\t{\n\t\t\t\t\tfile.urlShow = currentDomain+file.urlShow;\n\t\t\t\t}\n\n\t\t\t\tfile.urlShow = file.urlShow\n\t\t\t\t\t.replace('http://', 'bxhttp://')\n\t\t\t\t\t.replace('https://', 'bxhttps://');\n\t\t\t}\n\n\t\t\treturn file;\n\t\t};\n\n\t\tif (files instanceof Array)\n\t\t{\n\t\t\treturn files.map(file => prepareFunction(file));\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn prepareFunction(files);\n\t\t}\n\t}\n\n/* endregion 01. Initialize and store data */\n\n/* region 02. Mobile environment methods */\n\tredrawHeader()\n\t{\n\t\tlet headerProperties;\n\t\tif (Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\theaderProperties = this.getChatHeaderParams();\n\n\t\t\tthis.changeChatKeyboardStatus();\n\t\t}\n\t\telse\n\t\t{\n\t\t\theaderProperties = this.getUserHeaderParams();\n\t\t\tthis.setCallMenu();\n\t\t}\n\n\t\tif (!headerProperties)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.headerMenuInited)\n\t\t{\n\t\t\t//BXMobileApp.UI.Page.TopBar.title.setUseLetterImage();\n\t\t\tBXMobileApp.UI.Page.TopBar.title.params.useLetterImage = true; // TODO remove this\n\t\t\tBXMobileApp.UI.Page.TopBar.title.setCallback(() => this.openHeaderMenu());\n\n\t\t\tthis.headerMenuInited = true;\n\t\t}\n\n\t\tif (headerProperties.name)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TopBar.title.setText(headerProperties.name);\n\t\t}\n\t\tif (headerProperties.desc)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TopBar.title.setDetailText(headerProperties.desc);\n\t\t}\n\t\tif (headerProperties.avatar)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TopBar.title.setImage(headerProperties.avatar);\n\t\t}\n\t\telse if (headerProperties.color)\n\t\t{\n\t\t\t//BXMobileApp.UI.Page.TopBar.title.setImageColor(dialog.color);\n\t\t\tBXMobileApp.UI.Page.TopBar.title.params.imageColor = headerProperties.color;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tgetUserHeaderParams()\n\t{\n\t\tlet user = this.store.getters['users/get'](this.controller.getDialogId());\n\t\tif (!user || !user.init)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tlet result = {\n\t\t\t'name': null,\n\t\t\t'desc': null,\n\t\t\t'avatar': null,\n\t\t\t'color': null,\n\t\t};\n\n\t\tif (user.avatar)\n\t\t{\n\t\t\tresult.avatar = user.avatar;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.color = user.color;\n\t\t}\n\n\t\tresult.name = user.name;\n\n\t\tlet showLastDate = false;\n\n\t\tif (!this.userShowWorkPosition && user.lastActivityDate)\n\t\t{\n\t\t\tshowLastDate = Utils.user.getLastDateText(user, this.localize);\n\t\t}\n\n\t\tif (showLastDate)\n\t\t{\n\t\t\tresult.desc = showLastDate;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (user.workPosition)\n\t\t\t{\n\t\t\t\tresult.desc = user.workPosition;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.desc = this.localize['MOBILE_HEADER_MENU_CHAT_TYPE_USER'];\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tgetChatHeaderParams()\n\t{\n\t\tlet dialog = this.store.getters['dialogues/get'](this.controller.getDialogId());\n\t\tif (!dialog || !dialog.init)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tlet result = {\n\t\t\t'name': null,\n\t\t\t'desc': null,\n\t\t\t'avatar': null,\n\t\t\t'color': null,\n\t\t};\n\n\t\tif (dialog.avatar)\n\t\t{\n\t\t\tresult.avatar = dialog.avatar;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.color = dialog.color;\n\t\t}\n\n\t\tresult.name = dialog.name;\n\n\t\tlet chatTypeTitle = this.localize['MOBILE_HEADER_MENU_CHAT_TYPE_CHAT'];\n\t\tif (this.localize['MOBILE_HEADER_MENU_CHAT_TYPE_'+dialog.type.toUpperCase()])\n\t\t{\n\t\t\tchatTypeTitle = this.localize['MOBILE_HEADER_MENU_CHAT_TYPE_'+dialog.type.toUpperCase()];\n\t\t}\n\t\tresult.desc = chatTypeTitle;\n\n\t\treturn result;\n\t}\n\n\tchangeChatKeyboardStatus()\n\t{\n\t\tlet dialog = this.store.getters['dialogues/get'](this.controller.getDialogId());\n\t\tif (!dialog || !dialog.init)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TextPanel.show();\n\t\t\treturn true;\n\t\t}\n\n\t\tlet keyboardShow = true;\n\n\t\tif (dialog.type === 'announcement' && !dialog.managerList.includes(this.controller.getUserId()))\n\t\t{\n\t\t\tkeyboardShow = false;\n\t\t}\n\n\t\tif (\n\t\t\ttypeof this.keyboardShowFlag !== 'undefined'\n\t\t\t&& (\n\t\t\t\tthis.keyboardShowFlag && keyboardShow\n\t\t\t\t|| !this.keyboardShowFlag && !keyboardShow\n\t\t\t)\n\t\t)\n\t\t{\n\t\t\treturn this.keyboardShowFlag;\n\t\t}\n\n\t\tif (keyboardShow)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TextPanel.show();\n\t\t\tthis.keyboardShowFlag = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TextPanel.hide();\n\t\t\tthis.keyboardShowFlag = false;\n\t\t}\n\n\t\treturn this.keyboardShowFlag;\n\t}\n\n\tsetCallMenu()\n\t{\n\t\tif (this.callMenuSetted)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tlet userData = this.store.getters['users/get'](this.controller.getDialogId(), true);\n\t\tif (!userData.init)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (\n\t\t\tthis.controller.getUserId() === parseInt(this.controller.getDialogId())\n\t\t\t|| userData.bot\n\t\t\t|| userData.network\n\t\t)\n\t\t{\n\t\t\tapp.exec(\"setRightButtons\", {items: []});\n\n\t\t\tthis.callMenuSetted = true;\n\t\t\treturn true;\n\t\t}\n\n\t\tapp.exec(\"setRightButtons\", {items: [\n\t\t\t{\n\t\t\t\ttype: \"call_audio\",\n\t\t\t\tcallback: () => {\n\t\t\t\t\tthis.openCallMenu();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: \"call_video\",\n\t\t\t\tcallback: () => {\n\n\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatCallVideoButton\", {});\n\n\t\t\t\t\tlet userData = {};\n\t\t\t\t\tuserData[this.controller.getDialogId()] = this.store.getters['users/get'](this.controller.getDialogId(), true);\n\n\t\t\t\t\tBXMobileApp.Events.postToComponent(\"onCallInvite\", {\n\t\t\t\t\t\tuserId: this.controller.getDialogId(),\n\t\t\t\t\t\tvideo: true,\n\t\t\t\t\t\tuserData\n\t\t\t\t\t}, \"calls\")\n\t\t\t\t}\n\t\t\t}\n\t\t]});\n\n\t\tthis.callMenuSetted = true;\n\n\t\treturn true;\n\t}\n\n\topenUserList(params)\n\t{\n\t\tlet {users = false, title = '', listType = 'LIST'} = params;\n\n\t\tapp.exec(\"openComponent\", {\n\t\t\tname: \"JSStackComponent\",\n\t\t\tcomponentCode: 'im.dialog.list',\n\t\t\tscriptPath: \"/mobileapp/jn/im.chat.user.list/?version=\"+BX.componentParameters.get('WIDGET_CHAT_USERS_VERSION', '1.0.0'),\n\t\t\tparams: {\n\t\t\t\t\"DIALOG_ID\": this.controller.getDialogId(),\n\t\t\t\t\"USER_ID\": this.controller.getUserId(),\n\t\t\t\t\"LIST_TYPE\": listType,\n\t\t\t\t\"USERS\": users,\n\t\t\t\t\"IS_BACKDROP\": true,\n\t\t\t},\n\t\t\trootWidget: {\n\t\t\t\tname: \"list\",\n\t\t\t\tsettings: {\n\t\t\t\t\ttitle,\n\t\t\t\t\tobjectName: \"ChatUserListInterface\",\n\t\t\t\t\tbackdrop: {}\n\t\t\t\t},\n\t\t\t}\n\t\t}, false);\n\t}\n\n\topenCallMenu()\n\t{\n\t\tfabric.Answers.sendCustomEvent(\"vueChatCallAudioButton\", {});\n\n\t\tlet userData = this.store.getters['users/get'](this.controller.getDialogId(), true);\n\n\t\tif (\n\t\t\tuserData.phones.personalMobile\n\t\t\t|| userData.phones.workPhone\n\t\t\t|| userData.phones.personalPhone\n\t\t\t|| userData.phones.innerPhone\n\t\t)\n\t\t{\n\t\t\tBackdropMenu\n\t\t\t\t.create('im.dialog.menu.call|'+this.controller.getDialogId())\n\t\t\t\t.setItems([\n\t\t\t\t\tBackdropMenuItem.create('audio')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_HEADER_MENU_AUDIO_CALL'])\n\t\t\t\t\t,\n\t\t\t\t\tBackdropMenuItem.create('personalMobile')\n\t\t\t\t\t\t.setTitle(userData.phones.personalMobile)\n\t\t\t\t\t\t.setSubTitle(this.localize['MOBILE_MENU_CALL_MOBILE'])\n\t\t\t\t\t\t.skip(!userData.phones.personalMobile)\n\t\t\t\t\t,\n\t\t\t\t\tBackdropMenuItem.create('workPhone')\n\t\t\t\t\t\t.setTitle(userData.phones.workPhone)\n\t\t\t\t\t\t.setSubTitle(this.localize['MOBILE_MENU_CALL_WORK'])\n\t\t\t\t\t\t.skip(!userData.phones.workPhone)\n\t\t\t\t\t,\n\t\t\t\t\tBackdropMenuItem.create('personalPhone')\n\t\t\t\t\t\t.setTitle(userData.phones.personalPhone)\n\t\t\t\t\t\t.setSubTitle(this.localize['MOBILE_MENU_CALL_PHONE'])\n\t\t\t\t\t\t.skip(!userData.phones.personalPhone)\n\t\t\t\t\t,\n\t\t\t\t\tBackdropMenuItem.create('innerPhone')\n\t\t\t\t\t\t.setTitle(userData.phones.innerPhone)\n\t\t\t\t\t\t.setSubTitle(this.localize['MOBILE_MENU_CALL_PHONE'])\n\t\t\t\t\t\t.skip(!userData.phones.innerPhone)\n\t\t\t\t\t,\n\t\t\t\t])\n\t\t\t\t.setVersion(BX.componentParameters.get('WIDGET_BACKDROP_MENU_VERSION', '1.0.0'))\n\t\t\t\t.setEventListener((name, params, user, backdrop) =>\n\t\t\t\t{\n\t\t\t\t\tif (name !== 'selected')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (params.id === 'audio')\n\t\t\t\t\t{\n\t\t\t\t\t\tBXMobileApp.Events.postToComponent(\"onCallInvite\", {\n\t\t\t\t\t\t\tuserId: this.controller.getDialogId(),\n\t\t\t\t\t\t\tvideo: false,\n\t\t\t\t\t\t\tuserData: {[user.id]: user}\n\t\t\t\t\t\t}, \"calls\");\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'innerPhone')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.MobileTools.phoneTo(user.phones[params.id], {callMethod: 'telephony'});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.MobileTools.phoneTo(user.phones[params.id], {callMethod: 'device'});\n\n\t\t\t\t\t\t// items options\n\t\t\t\t\t\t//.setType(BackdropMenuItemType.menu)\n\t\t\t\t\t\t//.disableClose(BX.MobileTools.canUseTelephony())\n\t\t\t\t\t\t// if (!BX.MobileTools.canUseTelephony())\n\t\t\t\t\t\t// {\n\t\t\t\t\t\t// \tBX.MobileTools.phoneTo(user.phones[params.id], {callMethod: 'device'});\n\t\t\t\t\t\t// \treturn false\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// let subMenu = BackdropMenu\n\t\t\t\t\t\t// \t.create('im.dialog.menu.call.submenu|'+this.controller.getDialogId())\n\t\t\t\t\t\t// \t.setItems([\n\t\t\t\t\t\t// \t\tBackdropMenuItem.create('number')\n\t\t\t\t\t\t// \t\t\t.setType(BackdropMenuItemType.info)\n\t\t\t\t\t\t// \t\t\t.setTitle(this.localize[\"MOBILE_MENU_CALL_TO\"]\n\t\t\t\t\t\t// \t\t\t.replace('#PHONE_NUMBER#', user.phones[params.id]))\n\t\t\t\t\t\t// \t\t\t.setHeight(50)\n\t\t\t\t\t\t// \t\t\t.setStyles(BackdropMenuStyle.create().setFont(WidgetListItemFont.create().setFontStyle('bold')))\n\t\t\t\t\t\t// \t\t\t.setDisabled(),\n\t\t\t\t\t\t// \t\tBackdropMenuItem.create('telephony').setTitle(this.localize[\"MOBILE_CALL_BY_B24\"]),\n\t\t\t\t\t\t// \t\tBackdropMenuItem.create('device').setTitle(this.localize[\"MOBILE_CALL_BY_MOBILE\"]),\n\t\t\t\t\t\t// \t])\n\t\t\t\t\t\t// \t.setEventListener((name, params, options, backdrop) =>\n\t\t\t\t\t\t// \t{\n\t\t\t\t\t\t// \t\tif (name !== 'selected')\n\t\t\t\t\t\t// \t\t{\n\t\t\t\t\t\t// \t\t\treturn false;\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t\tBX.MobileTools.phoneTo(options.phone, {callMethod: params.id});\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// \t.setCustomParams({phone: user.phones[params.id]})\n\t\t\t\t\t\t// ;\n\t\t\t\t\t\t// backdrop.showSubMenu(subMenu);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.setCustomParams(userData)\n\t\t\t\t.show()\n\t\t\t;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBXMobileApp.Events.postToComponent(\"onCallInvite\", {\n\t\t\t\tuserId: this.controller.getDialogId(),\n\t\t\t\tvideo: false,\n\t\t\t\tuserData: {[this.controller.getDialogId()]: userData}\n\t\t\t}, \"calls\");\n\t\t}\n\t}\n\n\tleaveChat(confirm = false)\n\t{\n\t\tif (!confirm)\n\t\t{\n\t\t\tapp.confirm({\n\t\t\t\ttitle: this.localize.MOBILE_HEADER_MENU_LEAVE_CONFIRM,\n\t\t\t\ttext: '',\n\t\t\t\tbuttons: [\n\t\t\t\t\tthis.localize.MOBILE_HEADER_MENU_LEAVE_YES,\n\t\t\t\t\tthis.localize.MOBILE_HEADER_MENU_LEAVE_NO\n\t\t\t\t],\n\t\t\t\tcallback: (button) =>\n\t\t\t\t{\n\t\t\t\t\tif (button === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.leaveChat(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\n\t\tlet dialogId = this.controller.getDialogId();\n\n\t\tthis.restClient.callMethod(RestMethod.imChatLeave, {DIALOG_ID: dialogId}, null, null, Utils.getLogTrackingParams({\n\t\t\tname: RestMethod.imChatLeave,\n\t\t\tdialog: this.controller.getDialogData(dialogId)\n\t\t})).then(response => {\n\t\t\tapp.closeController();\n\t\t});\n\t}\n\n\topenAddUserDialog()\n\t{\n\t\tlet listUsers = this.getItemsForAddUserDialog();\n\n\t\tapp.exec(\"openComponent\", {\n\t\t\tname: \"JSStackComponent\",\n\t\t\tcomponentCode: \"im.chat.user.selector\",\n\t\t\tscriptPath: \"/mobileapp/jn/im.chat.user.selector/?version=\"+BX.componentParameters.get('WIDGET_CHAT_RECIPIENTS_VERSION', '1.0.0'),\n\t\t\tparams: {\n\t\t\t\t\"DIALOG_ID\": this.controller.getDialogId(),\n\t\t\t\t\"USER_ID\": this.controller.getUserId(),\n\n\t\t\t\t\"LIST_USERS\": listUsers,\n\t\t\t\t\"LIST_DEPARTMENTS\": [],\n\t\t\t\t\"SKIP_LIST\": [],\n\n\t\t\t\t\"SEARCH_MIN_SIZE\": BX.componentParameters.get('SEARCH_MIN_TOKEN_SIZE', 3),\n\t\t\t},\n\t\t\trootWidget: {\n\t\t\t\tname: \"chat.recipients\",\n\t\t\t\tsettings: {\n\t\t\t\t\tobjectName: \"ChatUserSelectorInterface\",\n\t\t\t\t\ttitle: BX.message('MOBILE_HEADER_MENU_USER_ADD'),\n\t\t\t\t\tlimit: 100,\n\t\t\t\t\titems: listUsers.map(element => ChatDataConverter.getListElementByUser(element)),\n\t\t\t\t\tscopes: [\n\t\t\t\t\t\t{ title: BX.message('MOBILE_SCOPE_USERS'), id: \"user\" },\n\t\t\t\t\t\t{ title: BX.message('MOBILE_SCOPE_DEPARTMENTS'), id: \"department\" }\n\t\t\t\t\t],\n\t\t\t\t\tmodal: true,\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\t}\n\n\tgetItemsForAddUserDialog()\n\t{\n\t\tlet items = [];\n\t\tlet itemsIndex = {};\n\n\t\tif (this.widgetCache.recentList.length > 0)\n\t\t{\n\t\t\tthis.widgetCache.recentList.map(element =>\n\t\t\t{\n\t\t\t\tif (!element || itemsIndex[element.id])\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (element.type === 'user')\n\t\t\t\t{\n\t\t\t\t\titems.push(element.user);\n\t\t\t\t\titemsIndex[element.id] = true;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t\tthis.widgetCache.colleaguesList.map(element =>\n\t\t{\n\t\t\tif (!element || itemsIndex[element.id])\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\titems.push(element);\n\t\t\titemsIndex[element.id] = true;\n\t\t});\n\n\t\tthis.widgetCache.lastSearchList.map(element =>\n\t\t{\n\t\t\tif (!element || itemsIndex[element.id])\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!element)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (element.type === 'user')\n\t\t\t{\n\t\t\t\titems.push(element.user);\n\t\t\t\titemsIndex[element.id] = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\t/*\n\t\tlet skipList = ChatMessengerCommon.getChatUsers();\n\t\tif (skipList.indexOf(this.base.userId) === -1)\n\t\t{\n\t\t\tskipList.push(this.base.userId)\n\t\t}\n\t\titems = items.filter((element) => skipList.indexOf(element.id) === -1);\n\t\t*/\n\n\t\treturn items;\n\t};\n\n/* endregion 02. Mobile environment methods */\n\n/* region 02. Push & Pull */\n\n\n\n\teventStoreInteraction(data)\n\t{\n\t\tif (data.type === 'dialogues/update' && data.payload && data.payload.fields)\n\t\t{\n\t\t\t if (typeof data.payload.fields.counter !== 'undefined')\n\t\t\t {\n\t\t\t \tconsole.log('COUNTER CHANGE!', data.payload.fields);\n\t\t\t }\n\t\t}\n\t}\n\n\teventStatusInteraction(data)\n\t{\n\t\tif (data.status === PullClient.PullStatus.Online)\n\t\t{\n\t\t\tthis.offline = false;\n\n\t\t\tif (this.pullRequestMessage)\n\t\t\t{\n\t\t\t\tthis.pullCommandHandler.option.skip = true;\n\n\t\t\t\tthis.getDialogUnread().then(() => {\n\t\t\t\t\tthis.pullCommandHandler.option.skip = false;\n\t\t\t\t\tthis.processSendMessages();\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.pullCommandHandler.option.skip = false;\n\t\t\t\t\tthis.processSendMessages();\n\t\t\t\t});\n\n\t\t\t\tthis.pullRequestMessage = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.readMessage();\n\t\t\t\tthis.processSendMessages();\n\t\t\t}\n\t\t}\n\t\telse if (data.status === PullClient.PullStatus.Offline)\n\t\t{\n\t\t\tthis.pullRequestMessage = true;\n\t\t\tthis.offline = true;\n\t\t}\n\t}\n\n\teventOnlineInteraction(data)\n\t{\n\t\tif (data.command === 'list' || data.command === 'userStatus')\n\t\t{\n\t\t\tfor (let userId in data.params.users)\n\t\t\t{\n\t\t\t\tif (!data.params.users.hasOwnProperty(userId))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis.store.dispatch('users/update', {\n\t\t\t\t\tid: data.params.users[userId].id,\n\t\t\t\t\tfields: data.params.users[userId]\n\t\t\t\t});\n\n\t\t\t\tif (userId.toString() === this.controller.getDialogId())\n\t\t\t\t{\n\t\t\t\t\tthis.redrawHeader();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n/* endregion 02. Push & Pull */\n\n\tgetKeyboardParams()\n\t{\n\t\tlet dialogData = this.controller.getDialogData();\n\n\t\tlet siteDir = this.localize.SITE_DIR? this.localize.SITE_DIR: '/';\n\n\t\treturn {\n\t\t\ttext: dialogData? dialogData.textareaMessage: '',\n\t\t\tplaceholder: this.getLocalize('MOBILE_CHAT_PANEL_PLACEHOLDER'),\n\t\t\tsmileButton: {},\n\t\t\tuseImageButton:true,\n\t\t\tuseAudioMessages: true,\n\t\t\tmentionDataSource:\n\t\t\t{\n\t\t\t\toutsection: \"NO\",\n\t\t\t\turl: siteDir + \"mobile/index.php?mobile_action=get_user_list&use_name_format=Y&with_bots\"\n\t\t\t},\n\t\t\tattachFileSettings:\n\t\t\t{\n\t\t\t\tpreviewMaxWidth: 640,\n\t\t\t\tpreviewMaxHeight: 640,\n\t\t\t\tresize:\n\t\t\t\t{\n\t\t\t\t\ttargetWidth: -1,\n\t\t\t\t\ttargetHeight: -1,\n\t\t\t\t\tsourceType: 1,\n\t\t\t\t\tencodingType: 0,\n\t\t\t\t\tmediaType: 2,\n\t\t\t\t\tallowsEdit: false,\n\t\t\t\t\tsaveToPhotoAlbum: true,\n\t\t\t\t\tpopoverOptions: false,\n\t\t\t\t\tcameraDirection: 0,\n\t\t\t\t},\n\t\t\t\tsendFileSeparately: true,\n\t\t\t\tshowAttachedFiles: true,\n\t\t\t\teditingMediaFiles:false,\n\t\t\t\tmaxAttachedFilesCount: 100\n\t\t\t},\n\t\t\tattachButton: {items:\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tid:\"disk\",\n\t\t\t\t\tname: this.getLocalize(\"MOBILE_CHAT_PANEL_UPLOAD_DISK\"),\n\t\t\t\t\tdataSource:\n\t\t\t\t\t{\n\t\t\t\t\t\tmultiple:false,\n\t\t\t\t\t\turl: siteDir + \"mobile/?mobile_action=disk_folder_list&type=user&path=%2F&entityId=\"+this.getLocalize(\"USER_ID\"),\n\t\t\t\t\t\tTABLE_SETTINGS:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsearchField: true,\n\t\t\t\t\t\t\tshowtitle: true,\n\t\t\t\t\t\t\tmodal: true,\n\t\t\t\t\t\t\tname: this.getLocalize(\"MOBILE_CHAT_PANEL_UPLOAD_DISK_FILES\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"mediateka\",\n\t\t\t\t\tname: this.getLocalize(\"MOBILE_CHAT_PANEL_UPLOAD_GALLERY\")\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"camera\",\n\t\t\t\t\tname: this.getLocalize(\"MOBILE_CHAT_PANEL_UPLOAD_CAMERA\")\n\t\t\t\t}\n\t\t\t]},\n\t\t\taction: (data) =>\n\t\t\t{\n\t\t\t\tif (typeof data === \"string\")\n\t\t\t\t{\n\t\t\t\t\tdata = {text: data, attachedFiles: []};\n\t\t\t\t}\n\n\t\t\t\tconst text = data.text.toString().trim();\n\t\t\t\tconst attachedFiles = data.attachedFiles instanceof Array? data.attachedFiles: [];\n\n\t\t\t\tif (attachedFiles.length <= 0)\n\t\t\t\t{\n\t\t\t\t\tthis.clearText();\n\t\t\t\t\tthis.addMessage(text);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tattachedFiles.forEach(file => {\n\t\t\t\t\t\t// disk\n\t\t\t\t\t\tif (typeof file.dataAttributes !== 'undefined')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatFileDisk\", {});\n\n\t\t\t\t\t\t\treturn this.uploadFile({\n\t\t\t\t\t\t\t\tsource: 'disk',\n\t\t\t\t\t\t\t\tname: file.name,\n\t\t\t\t\t\t\t\ttype: file.type.toString().toLowerCase(),\n\t\t\t\t\t\t\t\tpreview: !file.dataAttributes.URL || !file.dataAttributes.URL.PREVIEW? null: {\n\t\t\t\t\t\t\t\t\turl: file.dataAttributes.URL.PREVIEW,\n\t\t\t\t\t\t\t\t\twidth: file.dataAttributes.URL.PREVIEW.match(/(width=(\\d+))/i)[2],\n\t\t\t\t\t\t\t\t\theight: file.dataAttributes.URL.PREVIEW.match(/(height=(\\d+))/i)[2]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tuploadLink: parseInt(file.dataAttributes.ID),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// audio\n\t\t\t\t\t\tif (file.type === 'audio/mp4')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatFileAudio\", {});\n\n\t\t\t\t\t\t\treturn this.uploadFile({\n\t\t\t\t\t\t\t\tsource: 'audio',\n\t\t\t\t\t\t\t\tname: 'mobile_audio_'+(new Date).toJSON().slice(0, 19).replace('T', '_').split(':').join('-')+'.mp3',\n\t\t\t\t\t\t\t\ttype: 'mp3',\n\t\t\t\t\t\t\t\tpreview: null,\n\t\t\t\t\t\t\t\tuploadLink: file.url,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet filename = file.name;\n\t\t\t\t\t\tlet fileType = FilesModel.getType(file.name);\n\n\t\t\t\t\t\tif (fileType === FileType.video)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatFileVideo\", {});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (fileType === FileType.image)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatFileImage\", {});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfabric.Answers.sendCustomEvent(\"vueChatFileOther\", {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfileType === FileType.image\n\t\t\t\t\t\t\t|| fileType === FileType.video\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet extension = file.name.split('.').slice(-1)[0].toLowerCase();\n\t\t\t\t\t\t\tif (file.type === 'image/heic')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\textension = 'jpg';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfilename = 'mobile_file_'+(new Date).toJSON().slice(0, 19).replace('T', '_').split(':').join('-')+'.'+extension;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// file\n\t\t\t\t\t\treturn this.uploadFile({\n\t\t\t\t\t\t\tsource: 'gallery',\n\t\t\t\t\t\t\tname: filename,\n\t\t\t\t\t\t\ttype: file.type.toString().toLowerCase(),\n\t\t\t\t\t\t\tpreview: !file.previewUrl? null: {\n\t\t\t\t\t\t\t\turl: file.previewUrl,\n\t\t\t\t\t\t\t\twidth: file.previewWidth,\n\t\t\t\t\t\t\t\theight: file.previewHeight\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tuploadLink: file.url,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tcallback: (data) =>\n\t\t\t{\n\t\t\t\tif (!data.event)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconsole.log('Textpanel callback', data);\n\t\t\t\tif (data.event === \"onKeyPress\")\n\t\t\t\t{\n\t\t\t\t\tlet text = data.text.toString();\n\t\t\t\t\tif (text.trim().length > 2)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.controller.startWriting();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (text.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.controller.setTextareaMessage({message: ''});\n\t\t\t\t\t\tthis.controller.stopWriting();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.setTextareaMessage({message: text});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Application.getPlatform() !== \"android\")\n\t\t\t\t{\n\t\t\t\t\tif (data.event === \"getFocus\")\n\t\t\t\t\t{\n\n\t\t\t\t\t}\n\t\t\t\t\telse if (data.event === \"removeFocus\")\n\t\t\t\t\t{\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n\n/* region 03. Template engine */\n\n\tattachTemplate()\n\t{\n\t\tif (this.template)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tconst application = this;\n\t\tconst controller = this.controller;\n\t\tconst restClient = this.restClient;\n\t\tconst pullClient = this.pullClient || null;\n\n\t\treturn Vue.create({\n\t\t\tel: this.rootNode,\n\t\t\tstore: this.store,\n\t\t\ttemplate: '<bx-messenger/>',\n\t\t\tbeforeCreate()\n\t\t\t{\n\t\t\t\tthis.$bitrixApplication = application;\n\t\t\t\tthis.$bitrixController = controller;\n\t\t\t\tthis.$bitrixRestClient = restClient;\n\t\t\t\tthis.$bitrixPullClient = pullClient;\n\t\t\t\tthis.$bitrixMessages = application.localize;\n\t\t\t},\n\t\t\tdestroyed()\n\t\t\t{\n\t\t\t\tthis.$bitrixApplication.template = null;\n\t\t\t\tthis.$bitrixApplication = null;\n\t\t\t\tthis.$bitrixController = null;\n\t\t\t\tthis.$bitrixRestClient = null;\n\t\t\t\tthis.$bitrixPullClient = null;\n\t\t\t\tthis.$bitrixMessages = null;\n\t\t\t}\n\t\t});\n\t}\n\n\tdetachTemplate()\n\t{\n\t\tif (!this.template)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.template.$destroy();\n\n\t\treturn true;\n\t}\n\n/* endregion 03. Template engine */\n\n/* region 04. Rest methods */\n\n\taddMessage(text, file = null)\n\t{\n\t\tif (!text && !file)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tlet quiteId = this.store.getters['dialogues/getQuoteId'](this.controller.getDialogId());\n\t\tif (quiteId)\n\t\t{\n\t\t\tlet quoteMessage = this.store.getters['messages/getMessage'](this.controller.getChatId(), quiteId);\n\t\t\tif (quoteMessage)\n\t\t\t{\n\t\t\t\tlet user = null;\n\t\t\t\tif (quoteMessage.authorId)\n\t\t\t\t{\n\t\t\t\t\tuser = this.store.getters['users/get'](quoteMessage.authorId);\n\t\t\t\t}\n\n\t\t\t\tlet files = this.store.getters['files/getList'](this.controller.getChatId());\n\n\t\t\t\tlet message = [];\n\t\t\t\tmessage.push('-'.repeat(54));\n\t\t\t\tmessage.push((user && user.name? user.name: this.getLocalize('MOBILE_CHAT_SYSTEM_MESSAGE'))+' ['+Utils.date.format(quoteMessage.date, null, this.localize)+']');\n\t\t\t\tmessage.push(Utils.text.quote(quoteMessage.text, quoteMessage.params, files, this.localize));\n\t\t\t\tmessage.push('-'.repeat(54));\n\t\t\t\tmessage.push(text);\n\t\t\t\ttext = message.join(\"\\n\");\n\n\t\t\t\tthis.quoteMessageClear();\n\t\t\t}\n\t\t}\n\n\t\tconsole.warn('addMessage', text, file);\n\n\t\tif (!this.controller.isUnreadMessagesLoaded())\n\t\t{\n\t\t\tthis.sendMessage({id: 0, chatId: this.controller.getChatId(), dialogId: this.controller.getDialogId(), text, file});\n\t\t\tthis.processSendMessages();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.store.commit('application/increaseDialogExtraCount');\n\n\t\tlet params = {};\n\t\tif (file)\n\t\t{\n\t\t\tparams.FILE_ID = [file.id];\n\t\t}\n\n\t\tthis.store.dispatch('messages/add', {\n\t\t\tchatId: this.controller.getChatId(),\n\t\t\tauthorId: this.controller.getUserId(),\n\t\t\ttext: text,\n\t\t\tparams,\n\t\t\tsending: !file,\n\t\t}).then(messageId => {\n\n\t\t\tthis.messagesQueue.push({\n\t\t\t\tid: messageId,\n\t\t\t\tchatId: this.controller.getChatId(),\n\t\t\t\tdialogId: this.controller.getDialogId(),\n\t\t\t\ttext,\n\t\t\t\tfile,\n\t\t\t\tsending: false\n\t\t\t});\n\n\t\t\tif (this.controller.getChatId())\n\t\t\t{\n\t\t\t\tthis.processSendMessages();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.requestData();\n\t\t\t}\n\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tuploadFile(file, text = '')\n\t{\n\t\tif (!file)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tconsole.warn('addFile', file, text);\n\n\t\tif (!this.controller.isUnreadMessagesLoaded())\n\t\t{\n\t\t\tthis.addMessage(text, {id: 0, source: file});\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.store.dispatch('files/add', this.controller.prepareFilesBeforeSave({\n\t\t\tchatId: this.controller.getChatId(),\n\t\t\tauthorId: this.controller.getUserId(),\n\t\t\tname: file.name,\n\t\t\ttype: FilesModel.getType(file.name),\n\t\t\textension: file.name.split('.').splice(-1)[0],\n\t\t\tsize: 0,\n\t\t\timage: !file.preview? false: {\n\t\t\t\twidth: file.preview.width,\n\t\t\t\theight: file.preview.height,\n\t\t\t},\n\t\t\tstatus: file.source === 'disk'? FileStatus.wait: FileStatus.upload,\n\t\t\tprogress: 0,\n\t\t\tauthorName: this.controller.getCurrentUser().name,\n\t\t\turlPreview: !file.preview? '': file.preview.url,\n\t\t})).then(fileId => this.addMessage(text, {id: fileId, ...file}));\n\n\t\treturn true;\n\t}\n\n\tcancelUploadFile(fileId)\n\t{\n\t\tlet element = this.messagesQueue.find(element => element.file && element.file.id === fileId);\n\t\tif (element)\n\t\t{\n\t\t\tBX.MobileUploadProvider.cancelTasks(['imDialog'+fileId]);\n\n\t\t\tthis.store.dispatch('messages/delete', {\n\t\t\t\tchatId: element.chatId,\n\t\t\t\tid: element.id,\n\t\t\t}).then(() => {\n\t\t\t\tthis.store.dispatch('files/delete', {\n\t\t\t\t\tchatId: element.chatId,\n\t\t\t\t\tid: element.file.id,\n\t\t\t\t});\n\t\t\t\tthis.messagesQueue = this.messagesQueue.filter(el => el.id !== element.id);\n\t\t\t});\n\t\t}\n\t}\n\n\tprocessSendMessages()\n\t{\n\t\tif (this.offline)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.messagesQueue.filter(element => !element.sending).forEach(element =>\n\t\t{\n\t\t\telement.sending = true;\n\n\t\t\tif (element.file)\n\t\t\t{\n\t\t\t\tif (element.file.source === 'disk')\n\t\t\t\t{\n\t\t\t\t\tthis.fileCommit({\n\t\t\t\t\t\tchatId: element.chatId,\n\t\t\t\t\t\tdialogId: element.dialogId,\n\t\t\t\t\t\tdiskId: element.file.uploadLink,\n\t\t\t\t\t\tmessageText: element.text,\n\t\t\t\t\t\tmessageId: element.id,\n\t\t\t\t\t\tfileId: element.file.id,\n\t\t\t\t\t\tfileType: FilesModel.getType(element.file.name),\n\t\t\t\t\t}, element);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (this.controller.getDiskFolderId())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.sendMessageWithFile(element);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\telement.sending = false;\n\t\t\t\t\t\tthis.requestDiskFolderId();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\telement.sending = true;\n\t\t\t\tthis.sendMessage(element);\n\t\t\t}\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tprocessMarkReadMessages()\n\t{\n\t\tthis.controller.readMessageExecute(this.controller.getChatId(), true);\n\t\treturn true;\n\t}\n\n\tsendMessage(message)\n\t{\n\t\tmessage.text = message.text.replace(/^([-]{21}\\n)/gm, '-'.repeat(54)+'\\n');\n\n\t\tthis.controller.stopWriting(message.dialogId);\n\n\t\tBXMobileApp.Events.postToComponent('chatbackground::task::add', [\n\t\t\t'sendMessage|'+message.id,\n\t\t\t[RestMethod.imMessageAdd, {\n\t\t\t\t'TEMPLATE_ID': message.id,\n\t\t\t\t'DIALOG_ID': message.dialogId,\n\t\t\t\t'MESSAGE': message.text\n\t\t\t}],\n\t\t\tmessage\n\t\t], 'background');\n\t}\n\n\tsendMessageWithFile(message)\n\t{\n\t\tlet fileType = FilesModel.getType(message.file.name);\n\t\tlet fileExtension = message.file.name.toString().toLowerCase().split('.').splice(-1)[0];\n\t\tlet attachPreviewFile = fileType !== FileType.image && message.file.preview;\n\t\tlet needConvert = fileType === FileType.image && message.file.type !== 'image/gif' || fileType === FileType.video;\n\n\t\tBX.MobileUploadProvider.addTasks([{\n\t\t\turl: message.file.uploadLink,\n\t\t\tparams: message,\n\t\t\tname: message.file.name,\n\t\t\ttype: fileExtension,\n\t\t\tmimeType: fileType === FileType.audio? 'audio/mp4': null,\n\t\t\tresize: !needConvert? null: {\n\t\t\t\t\"quality\":80,\n\t\t\t\t\"width\":1920,\n\t\t\t\t\"height\":1080,\n\t\t\t},\n\t\t\tpreviewUrl: attachPreviewFile? message.file.preview.url: '',\n\t\t\tfolderId: this.controller.getDiskFolderId(),\n\t\t\ttaskId: 'imDialog'+message.file.id,\n\t\t\tonDestroyEventName: 'onimdiskmessageaddsuccess'\n\t\t}]);\n\t}\n\n\tfileError(chatId, fileId, messageId = 0)\n\t{\n\t\tthis.store.dispatch('files/update', {\n\t\t\tchatId: chatId,\n\t\t\tid: fileId,\n\t\t\tfields: {\n\t\t\t\tstatus: FileStatus.error,\n\t\t\t\tprogress: 0\n\t\t\t}\n\t\t});\n\t\tif (messageId)\n\t\t{\n\t\t\tthis.store.dispatch('messages/actionError', {\n\t\t\t\tchatId: chatId,\n\t\t\t\tid: messageId,\n\t\t\t\tretry: false,\n\t\t\t});\n\t\t}\n\t}\n\n\tfileCommit(params, message)\n\t{\n\t\tlet queryParams = {\n\t\t\tchat_id: params.chatId,\n\t\t\tmessage: params.messageText,\n\t\t\ttemplate_id: params.messageId? params.messageId: 0,\n\t\t\tfile_template_id: params.fileId? params.fileId: 0,\n\t\t};\n\t\tif (params.uploadId)\n\t\t{\n\t\t\tqueryParams.upload_id = params.uploadId;\n\t\t}\n\t\telse if (params.diskId)\n\t\t{\n\t\t\tqueryParams.disk_id = params.diskId;\n\t\t}\n\n\t\tthis.restClient.callMethod(RestMethod.imDiskFileCommit, queryParams, null, null, Utils.getLogTrackingParams({\n\t\t\tname: RestMethod.imDiskFileCommit,\n\t\t\tdata: {timMessageType: params.fileType},\n\t\t\tdialog: this.controller.getDialogData(params.dialogId)\n\t\t})).then(response => {\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imDiskFileCommit, response, message);\n\t\t}).catch(error => {\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imDiskFileCommit, error, message);\n\t\t});\n\n\t\treturn true;\n\t}\n\n\trequestDiskFolderId()\n\t{\n\t\tif (this.flagRequestDiskFolderIdSended || this.controller.getDiskFolderId())\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.flagRequestDiskFolderIdSended = true;\n\n\t\tthis.restClient.callMethod(RestMethod.imDiskFolderGet, {chat_id: this.controller.getChatId()}).then(response => {\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imDiskFolderGet, response);\n\t\t\tthis.flagRequestDiskFolderIdSended = false;\n\t\t\tthis.processSendMessages();\n\t\t}).catch(error => {\n\t\t\tthis.flagRequestDiskFolderIdSended = false;\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imDiskFolderGet, error);\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tgetDialogHistory(lastId, limit = this.controller.getRequestMessageLimit())\n\t{\n\t\tthis.restClient.callMethod(RestMethod.imDialogMessagesGet, {\n\t\t\t'CHAT_ID': this.controller.getChatId(),\n\t\t\t'LAST_ID': lastId,\n\t\t\t'LIMIT': limit,\n\t\t\t'CONVERT_TEXT': 'Y'\n\t\t}).then(result => {\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imDialogMessagesGet, result);\n\t\t\tthis.controller.emit(EventType.dialog.requestHistoryResult, {count: result.data().messages.length});\n\t\t}).catch(result => {\n\t\t\tthis.controller.emit(EventType.dialog.requestHistoryResult, {error: result.error().ex});\n\t\t});\n\t}\n\n\tgetDialogUnread(lastId, limit = this.controller.getRequestMessageLimit())\n\t{\n\t\tconst promise = new BX.Promise();\n\n\t\tif (!lastId)\n\t\t{\n\t\t\tlastId = this.store.getters['messages/getLastId'](this.controller.getChatId());\n\t\t}\n\n\t\tif (!lastId)\n\t\t{\n\t\t\tthis.controller.emit(EventType.dialog.requestUnreadResult, {error: {error: 'LAST_ID_EMPTY', error_description: 'LastId is empty.'}});\n\t\t\tpromise.reject();\n\t\t\treturn promise;\n\t\t}\n\n\t\tthis.controller.readMessage(lastId, true, true).then(() =>\n\t\t{\n\t\t\tthis.timer.start('data', 'load', 2, () => {\n\t\t\t\tconsole.warn(\"ChatDialog.requestData: slow connection show progress icon\");\n\t\t\t\tapp.titleAction(\"setParams\", {useProgress: true, useLetterImage: false});\n\t\t\t});\n\n\t\t\tlet query = {\n\t\t\t\t[RestMethodHandler.imDialogRead]: [RestMethod.imDialogRead, {\n\t\t\t\t\tdialog_id: this.controller.getDialogId(),\n\t\t\t\t\tmessage_id: lastId\n\t\t\t\t}],\n\t\t\t\t[RestMethodHandler.imChatGet]: [RestMethod.imChatGet, {\n\t\t\t\t\tdialog_id: this.controller.getDialogId()\n\t\t\t\t}],\n\t\t\t\t[RestMethodHandler.imDialogMessagesGetUnread]: [RestMethod.imDialogMessagesGet, {\n\t\t\t\t\tchat_id: this.controller.getChatId(),\n\t\t\t\t\tfirst_id: lastId,\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\tconvert_text: 'Y'\n\t\t\t\t}]\n\t\t\t};\n\n\t\t\tthis.restClient.callBatch(query, (response) =>\n\t\t\t{\n\t\t\t\tif (!response)\n\t\t\t\t{\n\t\t\t\t\tthis.controller.emit(EventType.dialog.requestUnreadResult, {error: {error: 'EMPTY_RESPONSE', error_description: 'Server returned an empty response.'}});\n\n\t\t\t\t\tpromise.reject();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet chatGetResult = response[RestMethodHandler.imChatGet];\n\t\t\t\tif (!chatGetResult.error())\n\t\t\t\t{\n\t\t\t\t\tthis.executeRestAnswer(RestMethodHandler.imChatGet, chatGetResult);\n\t\t\t\t}\n\n\t\t\t\tlet dialogMessageUnread = response[RestMethodHandler.imDialogMessagesGetUnread];\n\t\t\t\tif (dialogMessageUnread.error())\n\t\t\t\t{\n\t\t\t\t\tthis.controller.emit(EventType.dialog.requestUnreadResult, {error: dialogMessageUnread.error().ex});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.executeRestAnswer(RestMethodHandler.imDialogMessagesGetUnread, dialogMessageUnread);\n\n\t\t\t\t\tthis.controller.emit(EventType.dialog.requestUnreadResult, {\n\t\t\t\t\t\tfirstMessageId: dialogMessageUnread.data().messages.length > 0? dialogMessageUnread.data().messages[0].id: 0,\n\t\t\t\t\t\tcount: dialogMessageUnread.data().messages.length\n\t\t\t\t\t});\n\n\t\t\t\t\tapp.titleAction(\"setParams\", {useProgress: false, useLetterImage: true});\n\t\t\t\t\tthis.timer.stop('data', 'load', true);\n\t\t\t\t}\n\n\t\t\t\tpromise.fulfill(response);\n\n\t\t\t}, false, false, Utils.getLogTrackingParams({name: RestMethodHandler.imDialogMessagesGetUnread, dialog: this.controller.getDialogData()}));\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\tretrySendMessage(message)\n\t{\n\t\tif (this.messagesQueue.find(el => el.id === message.id))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.messagesQueue.push({\n\t\t\tid: message.id,\n\t\t\tchatId: this.controller.getChatId(),\n\t\t\tdialogId: this.controller.getDialogId(),\n\t\t\ttext: message.text,\n\t\t\tsending: false\n\t\t});\n\n\t\tthis.controller.setSendingMessageFlag(message.id);\n\n\t\tthis.processSendMessages();\n\t}\n\n\topenProfile(userId)\n\t{\n\t\tBXMobileApp.Events.postToComponent(\"onUserProfileOpen\", [userId, {backdrop: true}], 'communication');\n\t}\n\n\topenDialog(dialogId)\n\t{\n\t\tBXMobileApp.Events.postToComponent(\"onOpenDialog\", [{dialogId}, true], 'im.recent');\n\t}\n\n\topenPhoneMenu(number)\n\t{\n\t\tBX.MobileTools.phoneTo(number);\n\t}\n\n\topenMessageMenu(message)\n\t{\n\t\tif (this.messagesQueue.find(el => el.id === message.id))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.store.dispatch('messages/update', {\n\t\t\tid: message.id,\n\t\t\tchatId: message.chatId,\n\t\t\tfields: {\n\t\t\t\tblink: true\n\t\t\t}\n\t\t});\n\n\t\tif (!this.messageMenuInstance)\n\t\t{\n\t\t\tlet currentUser = this.controller.getCurrentUser();\n\t\t\tlet dialog = this.controller.getDialogData();\n\n\t\t\tthis.messageMenuInstance = BackdropMenu\n\t\t\t\t.create('im.dialog.menu.mess|'+this.controller.getDialogId())\n\t\t\t\t.setItems([\n\t\t\t\t\tBackdropMenuItem.create('reply')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_REPLY'])\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.reply)\n\t\t\t\t\t\t.skip((message) => {\n\t\t\t\t\t\t\tlet dialog = this.controller.getDialogData();\n\t\t\t\t\t\t\tif (dialog.type === 'announcement' && !dialog.managerList.includes(this.controller.getUserId()))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn !message.authorId || message.authorId === this.controller.getUserId()\n\t\t\t\t\t\t})\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('copy')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_COPY'])\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.copy)\n\t\t\t\t\t\t.skip((message) => message.params.IS_DELETED === 'Y')\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('quote')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_QUOTE'])\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.quote)\n\t\t\t\t\t\t.skip((message) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet dialog = this.controller.getDialogData();\n\t\t\t\t\t\t\tif (dialog.type === 'announcement' && !dialog.managerList.includes(this.controller.getUserId()))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn message.params.IS_DELETED === 'Y';\n\t\t\t\t\t\t})\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('unread')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_UNREAD'])\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.unread)\n\t\t\t\t\t\t.skip((message) => message.authorId === this.controller.getUserId() || message.unread)\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('read')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_READ'])\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.checked)\n\t\t\t\t\t\t.skip((message) => !message.unread)\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('edit')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_EDIT'])\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.edit)\n\t\t\t\t\t\t.skip((message) => message.authorId !== this.controller.getUserId() || message.params.IS_DELETED === 'Y')\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('share')\n\t\t\t\t\t\t.setType(BackdropMenuItemType.menu)\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.circle_plus)\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_SHARE_MENU'])\n\t\t\t\t\t\t.disableClose()\n\t\t\t\t\t\t.skip(currentUser.extranet || dialog.type === 'announcement')\n\t\t\t\t\t,\n\n\t\t\t\t\tBackdropMenuItem.create('delete')\n\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_DELETE'])\n\t\t\t\t\t\t.setStyles(BackdropMenuStyle.create().setFont(WidgetListItemFont.create().setColor('#c50000')))\n\t\t\t\t\t\t.setIcon(BackdropMenuIcon.trash)\n\t\t\t\t\t\t.skip((message) => message.authorId !== this.controller.getUserId() || message.params.IS_DELETED === 'Y')\n\t\t\t\t\t,\n\t\t\t\t])\n\t\t\t\t.setVersion(BX.componentParameters.get('WIDGET_BACKDROP_MENU_VERSION', '1.0.0'))\n\t\t\t\t.setEventListener((name, params, message, backdrop) => {\n\t\t\t\t\tif (name !== 'selected')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (params.id === 'reply')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.replyToUser(message.authorId);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'copy')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.copyMessage(message.id);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'quote')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.quoteMessage(message.id);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'edit')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.editMessage(message.id);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'delete')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.deleteMessage(message.id);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'unread')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.unreadMessage(message.id);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'read')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.readMessage(message.id);\n\t\t\t\t\t}\n\t\t\t\t\telse if (params.id === 'share')\n\t\t\t\t\t{\n\t\t\t\t\t\tlet dialog = this.controller.getDialogData();\n\t\t\t\t\t\tlet subMenu = BackdropMenu\n\t\t\t\t\t\t\t.create('im.dialog.menu.mess.submenu|'+this.controller.getDialogId())\n\t\t\t\t\t\t\t.setItems([\n\t\t\t\t\t\t\t\tBackdropMenuItem.create('share_task')\n\t\t\t\t\t\t\t\t\t.setIcon(BackdropMenuIcon.task)\n\t\t\t\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_SHARE_TASK'])\n\t\t\t\t\t\t\t\t,\n\t\t\t\t\t\t\t\tBackdropMenuItem.create('share_post')\n\t\t\t\t\t\t\t\t\t.setIcon(BackdropMenuIcon.lifefeed)\n\t\t\t\t\t\t\t\t\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_SHARE_POST'])\n\t\t\t\t\t\t\t\t,\n\t\t\t\t\t\t\t\t//BackdropMenuItem.create('share_chat')\n\t\t\t\t\t\t\t\t//\t.setIcon(BackdropMenuIcon.chat)\n\t\t\t\t\t\t\t\t//\t.setTitle(this.localize['MOBILE_MESSAGE_MENU_SHARE_CHAT'])\n\t\t\t\t\t\t\t\t//,\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t.setEventListener((name, params, options, backdrop) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (name !== 'selected')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\tif (params.id === 'share_task')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.shareMessage(message.id, 'TASK');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (params.id === 'share_post')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.shareMessage(message.id, 'POST');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t;\n\t\t\t\t\t\tbackdrop.showSubMenu(subMenu);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.warn('BackdropMenuItem is not implemented', params);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t;\n\t\t}\n\t\tthis.messageMenuInstance.setCustomParams(message).show();\n\n\t\tfabric.Answers.sendCustomEvent(\"vueChatOpenDropdown\", {});\n\t}\n\n\topenHeaderMenu()\n\t{\n\t\tfabric.Answers.sendCustomEvent(\"vueChatOpenHeaderMenu\", {});\n\n\t\tif (this.headerMenu)\n\t\t{\n\t\t\tthis.headerMenu.show();\n\t\t\treturn true;\n\t\t}\n\n\t\t(this.headerMenu = HeaderMenu.create())\n\t\t\t.setItems([\n\t\t\t\tHeaderMenuItem.create('profile')\n\t\t\t\t\t.setTitle(this.localize['MOBILE_HEADER_MENU_PROFILE'])\n\t\t\t\t\t.setIcon('user')\n\t\t\t\t\t.skip(Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t\t\t,\n\t\t\t\tHeaderMenuItem.create('user_add')\n\t\t\t\t\t.setTitle(this.localize['MOBILE_HEADER_MENU_USER_ADD'])\n\t\t\t\t\t.setIcon(HeaderMenuIcon.user_plus)\n\t\t\t\t,\n\t\t\t\tHeaderMenuItem.create('leave')\n\t\t\t\t\t.setTitle(this.localize['MOBILE_HEADER_MENU_LEAVE'])\n\t\t\t\t\t.setIcon(HeaderMenuIcon.cross)\n\t\t\t\t\t.skip(!Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t\t\t,\n\t\t\t\tHeaderMenuItem.create('reload')\n\t\t\t\t\t.setTitle(this.localize['MOBILE_HEADER_MENU_RELOAD'])\n\t\t\t\t\t.setIcon(HeaderMenuIcon.reload)\n\t\t\t\t,\n\t\t\t])\n\t\t\t.setUseNavigationBarColor()\n\t\t\t.setEventListener((name, params, customParams) => {\n\t\t\t\tif (name !== 'selected')\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (params.id === 'profile')\n\t\t\t\t{\n\t\t\t\t\tthis.openProfile(this.controller.getDialogId());\n\t\t\t\t}\n\t\t\t\telse if (params.id === 'user_list')\n\t\t\t\t{\n\t\t\t\t\tthis.openUserList();\n\t\t\t\t}\n\t\t\t\telse if (params.id === 'user_add')\n\t\t\t\t{\n\t\t\t\t\tthis.openAddUserDialog();\n\t\t\t\t}\n\t\t\t\telse if (params.id === 'leave')\n\t\t\t\t{\n\t\t\t\t\tthis.leaveChat();\n\t\t\t\t}\n\t\t\t\telse if (params.id === 'reload')\n\t\t\t\t{\n\t\t\t\t\t(new BXMobileApp.UI.NotificationBar({\n\t\t\t\t\t\tmessage: BX.message(\"MOBILE_HEADER_MENU_RELOAD_WAIT\"),\n\t\t\t\t\t\tcolor: \"#d920b0ff\",\n\t\t\t\t\t\ttextColor: \"#ffffff\",\n\t\t\t\t\t\tgroupId: \"refresh\",\n\t\t\t\t\t\tuseLoader: true,\n\t\t\t\t\t\tmaxLines: 1,\n\t\t\t\t\t\talign: \"center\",\n\t\t\t\t\t\thideOnTap: true\n\t\t\t\t\t}, \"copy\")).show();\n\n\t\t\t\t\tChatDialog.storeCollector.clearDatabase();\n\n\t\t\t\t\treload();\n\t\t\t\t}\n\t\t\t})\n\t\t.show();\n\t}\n\n\tshareMessage(messageId, type)\n\t{\n\t\tif (this.offline)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.controller.shareMessage(messageId, type);\n\t}\n\n\treadMessage(messageId)\n\t{\n\t\tif (this.offline)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.controller.readMessage(messageId, true, true).then((result) =>\n\t\t{\n\t\t\tif (result.lastId <= 0)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tBXMobileApp.Events.postToComponent('chatbackground::task::action', [\n\t\t\t\t'readMessage',\n\t\t\t\t'readMessage|'+result.dialogId,\n\t\t\t\tresult,\n\t\t\t\tfalse,\n\t\t\t\t200\n\t\t\t], 'background');\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tunreadMessage(messageId)\n\t{\n\t\tif (this.offline)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.controller.unreadMessage(messageId);\n\t}\n\n\topenReadedList(list)\n\t{\n\t\tif (!Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!list || list.length <= 1)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.openUserList({\n\t\t\tusers: list.map(element => element.userId),\n\t\t\ttitle: this.localize.MOBILE_MESSAGE_LIST_VIEW\n\t\t});\n\t}\n\n\treplyToUser(userId, userData = null)\n\t{\n\t\tif (this.offline)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!userData)\n\t\t{\n\t\t\tuserData = this.store.getters['users/get'](userId);\n\t\t}\n\n\t\treturn this.insertText({text: `[USER=${userId}]${userData.firstName}[/USER] `});\n\t}\n\n\tcopyMessage(id)\n\t{\n\t\tlet quoteMessage = this.store.getters['messages/getMessage'](this.controller.getChatId(), id);\n\n\t\tlet text = '';\n\n\t\tif (quoteMessage.params.FILE_ID && quoteMessage.params.FILE_ID.length)\n\t\t{\n\t\t\ttext = quoteMessage.params.FILE_ID.map(fileId => '[DISK='+fileId+']').join(\" \");\n\t\t}\n\n\t\tif (quoteMessage.text)\n\t\t{\n\t\t\tif (text)\n\t\t\t{\n\t\t\t\ttext += '\\n';\n\t\t\t}\n\n\t\t\ttext += quoteMessage.text.replace(/^([-]{54}\\n)/gm, '-'.repeat(21)+'\\n');\n\t\t}\n\n\t\tapp.exec(\"copyToClipboard\", {text});\n\n\t\t(new BXMobileApp.UI.NotificationBar({\n\t\t\tmessage: BX.message(\"MOBILE_MESSAGE_MENU_COPY_SUCCESS\"),\n\t\t\tcolor: \"#af000000\",\n\t\t\ttextColor: \"#ffffff\",\n\t\t\tgroupId: \"clipboard\",\n\t\t\tmaxLines: 1,\n\t\t\talign: \"center\",\n\t\t\tisGlobal: true,\n\t\t\tuseCloseButton: true,\n\t\t\tautoHideTimeout: 1500,\n\t\t\thideOnTap: true\n\t\t}, \"copy\")).show();\n\t}\n\n\tquoteMessage(id)\n\t{\n\t\tthis.store.dispatch('dialogues/update', {\n\t\t\tdialogId: this.controller.getDialogId(),\n\t\t\tfields: {\n\t\t\t\tquoteId: id\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tif (this.store.state.application.mobile.keyboardShow)\n\t\t\t{\n\t\t\t\tsetTimeout(() => this.controller.emit(EventType.dialog.scrollToBottom, {duration: 300, cancelIfScrollChange: true}), 300);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.setTextFocus();\n\t\t\t}\n\t\t});\n\t}\n\n\treactMessage(id, reaction)\n\t{\n\t\tBXMobileApp.Events.postToComponent('chatbackground::task::action', [\n\t\t\t'reactMessage',\n\t\t\t'reactMessage|'+id,\n\t\t\t{\n\t\t\t\tmessageId: id,\n\t\t\t\taction: reaction.action === 'auto'? 'auto': (reaction.action === 'set'? 'plus': 'minus')\n\t\t\t},\n\t\t\tfalse,\n\t\t\t1000\n\t\t], 'background');\n\n\t\tif (reaction.action === 'set')\n\t\t{\n\t\t\tsetTimeout(() => app.exec(\"callVibration\"), 200);\n\t\t}\n\t}\n\n\topenMessageReactionList(id, reactions)\n\t{\n\t\tif (!Utils.dialog.isChatId(this.controller.getDialogId()))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tlet users = [];\n\t\tfor (let reaction in reactions)\n\t\t{\n\t\t\tif (!reactions.hasOwnProperty(reaction))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tusers = users.concat(reactions[reaction]);\n\t\t}\n\n\t\tthis.openUserList({\n\t\t\tusers: users,\n\t\t\ttitle: this.localize.MOBILE_MESSAGE_LIST_LIKE\n\t\t});\n\t}\n\n\texecMessageKeyboardCommand(data)\n\t{\n\t\tif (data.action !== 'COMMAND')\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tlet {dialogId, messageId, botId, command, params} = data.params;\n\n\t\tthis.restClient.callMethod(RestMethod.imMessageCommand, {\n\t\t\t'MESSAGE_ID': messageId,\n\t\t\t'DIALOG_ID': dialogId,\n\t\t\t'BOT_ID': botId,\n\t\t\t'COMMAND': command,\n\t\t\t'COMMAND_PARAMS': params,\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tquoteMessageClear()\n\t{\n\t\tthis.store.dispatch('dialogues/update', {\n\t\t\tdialogId: this.controller.getDialogId(),\n\t\t\tfields: {\n\t\t\t\tquoteId: 0\n\t\t\t}\n\t\t});\n\t}\n\n\teditMessage(id)\n\t{\n\t\t//if (!this.checkEditMessage(messageId, 'edit'))\n\t\t//\treturn false;\n\n\t\tlet message = this.store.getters['messages/getMessage'](this.controller.getChatId(), id);\n\n\t\tthis.store.dispatch('application/set', {mobile: {\n\t\t\tkeyboardShow: true,\n\t\t}});\n\n\t\tlet siteDir = this.localize.SITE_DIR? this.localize.SITE_DIR: '/';\n\n\t\tapp.exec('showPostForm', {\n\t\t\tmentionButton: {\n\t\t\t\tdataSource: {\n\t\t\t\t\treturn_full_mode: \"YES\",\n\t\t\t\t\toutsection: \"NO\",\n\t\t\t\t\tmultiple: \"NO\",\n\t\t\t\t\talphabet_index: \"YES\",\n\t\t\t\t\turl: siteDir + 'mobile/index.php?mobile_action=get_user_list'\n\t\t\t\t}\n\t\t\t},\n\t\t\tsmileButton: {},\n\t\t\tmessage: {\n\t\t\t\ttext: message.text\n\t\t\t},\n\t\t\tokButton: {\n\t\t\t\tcallback: (data) => this.editMessageSend(id, data.text),\n\t\t\t\tname: BX.message('MOBILE_EDIT_SAVE')\n\t\t\t},\n\t\t\tcancelButton: {\n\t\t\t\tcallback: () => {\n\t\t\t\t\tthis.store.dispatch('application/set', {mobile: {\n\t\t\t\t\t\tkeyboardShow: false,\n\t\t\t\t\t}});\n\t\t\t\t},\n\t\t\t\tname: BX.message('MOBILE_EDIT_CANCEL')\n\t\t\t}\n\t\t});\n\t}\n\n\teditMessageSend(id, text)\n\t{\n\t\tthis.restClient.callMethod(RestMethod.imMessageUpdate, {\n\t\t\t'MESSAGE_ID': id,\n\t\t\t'MESSAGE': text\n\t\t}, null, null, Utils.getLogTrackingParams({\n\t\t\tname: RestMethod.imMessageUpdate,\n\t\t\tdata: {timMessageType: 'text'},\n\t\t\tdialog: this.controller.getDialogData()\n\t\t}));\n\t}\n\n\tdeleteMessage(id)\n\t{\n\t\tlet message = this.store.getters['messages/getMessage'](this.controller.getChatId(), id);\n\t\tlet files = this.store.getters['files/getList'](this.controller.getChatId());\n\n\t\tlet messageText = Utils.text.purify(message.text, message.params, files, this.localize);\n\t\tmessageText = messageText.length > 50? messageText.substr(0, 47) + '...': messageText;\n\n\t\tapp.confirm({\n\t\t\ttitle: this.localize.MOBILE_MESSAGE_MENU_DELETE_CONFIRM,\n\t\t\ttext: messageText? '\"' + messageText + '\"': '',\n\t\t\tbuttons: [\n\t\t\t\tthis.localize.MOBILE_MESSAGE_MENU_DELETE_YES,\n\t\t\t\tthis.localize.MOBILE_MESSAGE_MENU_DELETE_NO\n\t\t\t],\n\t\t\tcallback: (button) =>\n\t\t\t{\n\t\t\t\tif (button === 1)\n\t\t\t\t{\n\t\t\t\t\tthis.deleteMessageSend(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tdeleteMessageSend(id)\n\t{\n\t\tthis.restClient.callMethod(RestMethod.imMessageDelete, {\n\t\t\t'MESSAGE_ID': id\n\t\t}, null, null, Utils.getLogTrackingParams({\n\t\t\tname: RestMethod.imMessageDelete,\n\t\t\tdata: {},\n\t\t\tdialog: this.controller.getDialogData(this.controller.getDialogId())\n\t\t}));\n\t}\n\n\tinsertText(params)\n\t{\n\t\tBXMobileApp.UI.Page.TextPanel.getText((text) => {\n\t\t\ttext = text.toString().trim();\n\n\t\t\ttext = text? text+' '+params.text: params.text;\n\n\t\t\tthis.setText(text);\n\t\t\tthis.setTextFocus();\n\t\t});\n\t}\n\n\tsetText(text = '')\n\t{\n\t\ttext = text.toString();\n\n\t\tif (text)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TextPanel.setText(text);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TextPanel.clear();\n\t\t}\n\n\t\tthis.setTextareaMessage({message: text});\n\n\t\tconsole.log('Set new text in textarea', text? text: '-- empty --');\n\t}\n\n\tclearText()\n\t{\n\t\tthis.setText();\n\t}\n\n\tsetTextFocus()\n\t{\n\t\tif (!this.store.state.application.mobile.keyboardShow)\n\t\t{\n\t\t\tBXMobileApp.UI.Page.TextPanel.focus();\n\t\t}\n\t}\n\n\tgetHost()\n\t{\n\t\treturn currentDomain;\n\t}\n\n\tgetSiteId()\n\t{\n\t\treturn 's1';\n\t}\n\n\tisBackground()\n\t{\n\t\tif (typeof BXMobileAppContext !== \"object\")\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (\n\t\t\ttypeof BXMobileAppContext.isAppActive === \"function\"\n\t\t\t&& !BXMobileAppContext.isAppActive()\n\t\t)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tif (typeof BXMobileAppContext.isBackground === \"function\")\n\t\t{\n\t\t\treturn BXMobileAppContext.isBackground();\n\t\t}\n\n\t\treturn false;\n\t}\n\n/* endregion 05. Templates and template interaction */\n\n/* region 05. Interaction and utils */\n\n\texecuteBackgroundTaskSuccess(action, data)\n\t{\n\t\tlet successObject =\n\t\t{\n\t\t\terror: () => false,\n\t\t\tdata: () => data.result,\n\t\t};\n\n\t\tconsole.log('Dialog.executeBackgroundTaskSuccess', action, data);\n\n\t\tif (action === 'sendMessage')\n\t\t{\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imMessageAdd, successObject, data.extra);\n\t\t}\n\t}\n\n\texecuteBackgroundTaskFailure(action, data)\n\t{\n\t\tlet errorObject =\n\t\t{\n\t\t\terror: () => {\n\t\t\t\treturn {\n\t\t\t\t\terror: data.code,\n\t\t\t\t\terror_description: data.text,\n\t\t\t\t\tex: {\n\t\t\t\t\t\tstatus: data.status,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: () => false,\n\t\t};\n\n\t\tconsole.log('Dialog.executeBackgroundTaskFailure', action, data);\n\n\t\tif (action === 'sendMessage')\n\t\t{\n\t\t\tthis.executeRestAnswer(RestMethodHandler.imMessageAdd, errorObject, data.extra);\n\t\t}\n\t}\n\n/* endregion 05. Interaction and utils */\n\n/* region 06. Interaction and utils */\n\n\tsetError(code = '', description = '')\n\t{\n\t\tconsole.error(`MobileChat.error: ${code} (${description})`);\n\n\t\tlet localizeDescription = '';\n\t\tif (code.endsWith('LOCALIZED'))\n\t\t{\n\t\t\tlocalizeDescription = description;\n\t\t}\n\n\t\tthis.store.commit('application/set', {error: {\n\t\t\tactive: true,\n\t\t\tcode,\n\t\t\tdescription: localizeDescription\n\t\t}});\n\t}\n\n\tclearError()\n\t{\n\t\tthis.store.commit('application/set', {error: {\n\t\t\tactive: false,\n\t\t\tcode: '',\n\t\t\tdescription: ''}\n\t\t});\n\t}\n\n\taddLocalize(phrases)\n\t{\n\t\tif (typeof phrases !== \"object\" || !phrases)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let name in phrases)\n\t\t{\n\t\t\tif (phrases.hasOwnProperty(name))\n\t\t\t{\n\t\t\t\tthis.localize[name] = phrases[name];\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tgetLocalize(name)\n\t{\n\t\tlet phrase = '';\n\t\tif (typeof name === 'undefined')\n\t\t{\n\t\t\treturn this.localize;\n\t\t}\n\t\telse if (typeof this.localize[name.toString()] === 'undefined')\n\t\t{\n\t\t\tconsole.warn(`MobileChat.getLocalize: message with code '${name.toString()}' is undefined.`)\n\t\t}\n\t\telse\n\t\t{\n\t\t\tphrase = this.localize[name];\n\t\t}\n\n\t\treturn phrase;\n\t}\n\n/* endregion 06. Interaction and utils */\n}","/**\n * Bitrix im dialog mobile\n * Dialog vue component\n *\n * @package bitrix\n * @subpackage mobile\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\nimport {Vuex} from \"ui.vue.vuex\";\nimport {Logger} from \"im.tools.logger\";\nimport {EventType} from \"im.const\";\nimport {Utils} from \"im.utils\";\nimport \"im.component.dialog\";\nimport \"im.component.quotepanel\";\n\n/**\n * @notice Do not mutate or clone this component! It is under development.\n */\nVue.component('bx-messenger',\n{\n\tdata: function()\n\t{\n\t\treturn {\n\t\t\tdialogState: 'loading'\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tEventType: () => EventType,\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.assign({},\n\t\t\t\tVue.getFilteredPhrases('MOBILE_CHAT_', this.$root.$bitrixMessages),\n\t\t\t\tVue.getFilteredPhrases('IM_UTILS_', this.$root.$bitrixMessages),\n\t\t\t);\n\t\t},\n\t\twidgetClassName(state)\n\t\t{\n\t\t\tlet className = ['bx-mobilechat-wrapper'];\n\n\t\t\tif (this.showMessageDialog)\n\t\t\t{\n\t\t\t\tclassName.push('bx-mobilechat-chat-start');\n\t\t\t}\n\n\t\t\treturn className.join(' ');\n\t\t},\n\t\tquotePanelData()\n\t\t{\n\t\t\tlet result = {\n\t\t\t\tid: 0,\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t\tcolor: ''\n\t\t\t};\n\n\t\t\tif (!this.showMessageDialog || !this.dialog.quoteId)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tlet message = this.$store.getters['messages/getMessage'](this.dialog.chatId, this.dialog.quoteId);\n\t\t\tif (!message)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tlet user = this.$store.getters['users/get'](message.authorId);\n\t\t\tlet files = this.$store.getters['files/getList'](this.dialog.chatId);\n\n\t\t\treturn {\n\t\t\t\tid: this.dialog.quoteId,\n\t\t\t\ttitle: user? user.name: '',\n\t\t\t\tcolor: user? user.color: '',\n\t\t\t\tdescription: Utils.text.purify(message.text, message.params, files, this.localize)\n\t\t\t};\n\t\t},\n\n\t\tisDialog()\n\t\t{\n\t\t\treturn Utils.dialog.isChatId(this.dialog.dialogId);\n\t\t},\n\n\t\tisGestureQuoteSupported()\n\t\t{\n\t\t\tif (this.dialog && this.dialog.type === 'announcement' && !this.dialog.managerList.includes(this.application.common.userId))\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn ChatPerformance.isGestureQuoteSupported();\n\t\t},\n\t\tisDarkBackground()\n\t\t{\n\t\t\treturn this.application.options.darkBackground;\n\t\t},\n\t\tshowMessageDialog()\n\t\t{\n\t\t\tlet result = this.messageCollection && this.messageCollection.length > 0;\n\t\t\tif (result)\n\t\t\t{\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.dialogState = 'show';\n\t\t\t\t}, ChatPerformance.getDialogShowTimeout());\n\t\t\t}\n\t\t\telse if (this.dialog && this.dialog.init)\n\t\t\t{\n\t\t\t\tthis.dialogState = 'empty';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.dialogState = 'loading';\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t...Vuex.mapState({\n\t\t\tapplication: state => state.application,\n\t\t\tdialog: state => state.dialogues.collection[state.application.dialog.dialogId],\n\t\t\tmessageCollection: state => state.messages.collection[state.application.dialog.chatId]\n\t\t})\n\t},\n\tmethods:\n\t{\n\t\tlogEvent(name, ...params)\n\t\t{\n\t\t\tLogger.info(name, ...params);\n\t\t},\n\t\tonDialogRequestHistory(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.getDialogHistory(event.lastId);\n\t\t},\n\t\tonDialogRequestUnread(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.getDialogUnread(event.lastId);\n\t\t},\n\t\tonDialogMessageClickByUserName(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.replyToUser(event.user.id, event.user);\n\t\t},\n\t\tonDialogMessageClickByUploadCancel(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.cancelUploadFile(event.file.id);\n\t\t},\n\t\tonDialogMessageClickByCommand(event)\n\t\t{\n\t\t\tif (event.type === 'put')\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.insertText({text: event.value+' '});\n\t\t\t}\n\t\t\telse if (event.type === 'send')\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.addMessage(event.value);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tLogger.warn('Unprocessed command', event);\n\t\t\t}\n\t\t},\n\t\tonDialogMessageClickByMention(event)\n\t\t{\n\t\t\tif (event.type === 'USER')\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.openProfile(event.value);\n\t\t\t}\n\t\t\telse if (event.type === 'CHAT')\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.openDialog(event.value);\n\t\t\t}\n\t\t\telse if (event.type === 'CALL')\n\t\t\t{\n\t\t\t\tthis.$root.$bitrixApplication.openPhoneMenu(event.value);\n\t\t\t}\n\t\t},\n\t\tonDialogMessageMenuClick(event)\n\t\t{\n\t\t\tLogger.warn('Message menu:', event);\n\t\t\tthis.$root.$bitrixApplication.openMessageMenu(event.message);\n\t\t},\n\t\tonDialogMessageRetryClick(event)\n\t\t{\n\t\t\tLogger.warn('Message retry:', event);\n\t\t\tthis.$root.$bitrixApplication.retrySendMessage(event.message);\n\t\t},\n\t\tonDialogReadMessage(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.readMessage(event.id);\n\t\t},\n\t\tonDialogReadedListClick(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.openReadedList(event.list);\n\t\t},\n\t\tonDialogQuoteMessage(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.quoteMessage(event.message.id);\n\t\t},\n\t\tonDialogMessageReactionSet(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.reactMessage(event.message.id, event.reaction);\n\t\t},\n\t\tonDialogMessageReactionListOpen(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.openMessageReactionList(event.message.id, event.values);\n\t\t},\n\t\tonDialogMessageClickByKeyboardButton(event)\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.execMessageKeyboardCommand(event);\n\t\t},\n\t\tonDialogClick(event)\n\t\t{\n\t\t},\n\t\tonQuotePanelClose()\n\t\t{\n\t\t\tthis.$root.$bitrixApplication.quoteMessageClear();\n\t\t},\n\n\t},\n\ttemplate: `\n\t\t<div :class=\"widgetClassName\">\n\t\t\t<div :class=\"['bx-mobilechat-box', {'bx-mobilechat-box-dark-background': isDarkBackground}]\">\n\t\t\t\t<template v-if=\"application.error.active\">\n\t\t\t\t\t<bx-messenger-body-error/>\n\t\t\t\t</template>\t\t\t\n\t\t\t\t<template v-else>\n\t\t\t\t\t<bx-pull-status/>\n\t\t\t\t\t<div :class=\"['bx-mobilechat-body', {'bx-mobilechat-body-with-message': dialogState == 'show'}]\" key=\"with-message\">\n\t\t\t\t\t\t<template v-if=\"dialogState == 'loading'\">\n\t\t\t\t\t\t\t<bx-messenger-body-loading/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"dialogState == 'empty'\">\n\t\t\t\t\t\t\t<bx-messenger-body-empty/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<div class=\"bx-mobilechat-dialog\">\n\t\t\t\t\t\t\t\t<bx-messenger-dialog\n\t\t\t\t\t\t\t\t\t:userId=\"application.common.userId\" \n\t\t\t\t\t\t\t\t\t:dialogId=\"application.dialog.dialogId\"\n\t\t\t\t\t\t\t\t\t:chatId=\"application.dialog.chatId\"\n\t\t\t\t\t\t\t\t\t:messageLimit=\"application.dialog.messageLimit\"\n\t\t\t\t\t\t\t\t\t:messageExtraCount=\"application.dialog.messageExtraCount\"\n\t\t\t\t\t\t\t\t\t:enableReactions=\"true\"\n\t\t\t\t\t\t\t\t\t:enableDateActions=\"false\"\n\t\t\t\t\t\t\t\t\t:enableCreateContent=\"false\"\n\t\t\t\t\t\t\t\t\t:enableGestureQuote=\"isGestureQuoteSupported\"\n\t\t\t\t\t\t\t\t\t:enableGestureMenu=\"true\"\n\t\t\t\t\t\t\t\t\t:showMessageUserName=\"isDialog\"\n\t\t\t\t\t\t\t\t\t:showMessageAvatar=\"isDialog\"\n\t\t\t\t\t\t\t\t\t:showMessageMenu=\"false\"\n\t\t\t\t\t\t\t\t\t:listenEventScrollToBottom=\"EventType.dialog.scrollToBottom\"\n\t\t\t\t\t\t\t\t\t:listenEventRequestHistory=\"EventType.dialog.requestHistoryResult\"\n\t\t\t\t\t\t\t\t\t:listenEventRequestUnread=\"EventType.dialog.requestUnreadResult\"\n\t\t\t\t\t\t\t\t\t@readMessage=\"onDialogReadMessage\"\n\t\t\t\t\t\t\t\t\t@quoteMessage=\"onDialogQuoteMessage\"\n\t\t\t\t\t\t\t\t\t@requestHistory=\"onDialogRequestHistory\"\n\t\t\t\t\t\t\t\t\t@requestUnread=\"onDialogRequestUnread\"\n\t\t\t\t\t\t\t\t\t@clickByCommand=\"onDialogMessageClickByCommand\"\n\t\t\t\t\t\t\t\t\t@clickByMention=\"onDialogMessageClickByMention\"\n\t\t\t\t\t\t\t\t\t@clickByUserName=\"onDialogMessageClickByUserName\"\n\t\t\t\t\t\t\t\t\t@clickByMessageMenu=\"onDialogMessageMenuClick\"\n\t\t\t\t\t\t\t\t\t@clickByMessageRetry=\"onDialogMessageRetryClick\"\n\t\t\t\t\t\t\t\t\t@clickByUploadCancel=\"onDialogMessageClickByUploadCancel\"\n\t\t\t\t\t\t\t\t\t@clickByReadedList=\"onDialogReadedListClick\"\n\t\t\t\t\t\t\t\t\t@setMessageReaction=\"onDialogMessageReactionSet\"\n\t\t\t\t\t\t\t\t\t@openMessageReactionList=\"onDialogMessageReactionListOpen\"\n\t\t\t\t\t\t\t\t\t@clickByKeyboardButton=\"onDialogMessageClickByKeyboardButton\"\n\t\t\t\t\t\t\t\t\t@click=\"onDialogClick\"\n\t\t\t\t\t\t\t\t />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<bx-messenger-quote-panel :id=\"quotePanelData.id\" :title=\"quotePanelData.title\" :description=\"quotePanelData.description\" :color=\"quotePanelData.color\" @close=\"onQuotePanelClose\"/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t`\n});","/**\n * Bitrix OpenLines widget\n * Body error component (Vue component)\n *\n * @package bitrix\n * @subpackage imopenlines\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\nimport {Vuex} from \"ui.vue.vuex\";\n\nVue.component('bx-messenger-body-error',\n{\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn  Object.freeze({\n\t\t\t\tMOBILE_CHAT_ERROR_TITLE: this.$root.$bitrixMessages.MOBILE_CHAT_ERROR_TITLE,\n\t\t\t\tMOBILE_CHAT_ERROR_DESC: this.$root.$bitrixMessages.MOBILE_CHAT_ERROR_DESC\n\t\t\t});\n\t\t},\n\t\t...Vuex.mapState({\n\t\t\tapplication: state => state.application\n\t\t}),\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-mobilechat-body\" key=\"error-body\">\n\t\t\t<div class=\"bx-mobilechat-warning-window\">\n\t\t\t\t<div class=\"bx-mobilechat-warning-icon\"></div>\n\t\t\t\t<template v-if=\"application.error.description\"> \n\t\t\t\t\t<div class=\"bx-mobilechat-help-title bx-mobilechat-help-title-sm bx-mobilechat-warning-msg\" v-html=\"application.error.description\"></div>\n\t\t\t\t</template> \n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"bx-mobilechat-help-title bx-mobilechat-help-title-md bx-mobilechat-warning-msg\">{{localize.MOBILE_CHAT_ERROR_TITLE}}</div>\n\t\t\t\t\t<div class=\"bx-mobilechat-help-title bx-mobilechat-help-title-sm bx-mobilechat-warning-msg\">{{localize.MOBILE_CHAT_ERROR_DESC}}</div>\n\t\t\t\t</template> \n\t\t\t</div>\n\t\t</div>\n\t`\n});\n","/**\n * Bitrix OpenLines widget\n * Body loading component (Vue component)\n *\n * @package bitrix\n * @subpackage imopenlines\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\n\nVue.component('bx-messenger-body-loading',\n{\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn  Object.freeze({\n\t\t\t\tMOBILE_CHAT_LOADING: this.$root.$bitrixMessages.MOBILE_CHAT_LOADING\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-mobilechat-loading-window\">\n\t\t\t<svg class=\"bx-mobilechat-loading-circular\" viewBox=\"25 25 50 50\">\n\t\t\t\t<circle class=\"bx-mobilechat-loading-path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-miterlimit=\"10\"/>\n\t\t\t\t<circle class=\"bx-mobilechat-loading-inner-path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-miterlimit=\"10\"/>\n\t\t\t</svg>\n\t\t\t<h3 class=\"bx-mobilechat-help-title bx-mobilechat-help-title-md bx-mobilechat-loading-msg\">{{localize.MOBILE_CHAT_LOADING}}</h3>\n\t\t</div>\n\t`\n});","/**\n * Bitrix OpenLines widget\n * Body loading component (Vue component)\n *\n * @package bitrix\n * @subpackage imopenlines\n * @copyright 2001-2019 Bitrix\n */\n\nimport {Vue} from \"ui.vue\";\n\nVue.component('bx-messenger-body-empty',\n{\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn  Object.freeze({\n\t\t\t\tMOBILE_CHAT_EMPTY: this.$root.$bitrixMessages.MOBILE_CHAT_EMPTY\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-mobilechat-loading-window\">\n\t\t\t<h3 class=\"bx-mobilechat-help-title bx-mobilechat-help-title-md bx-mobilechat-loading-msg\">{{localize.MOBILE_CHAT_EMPTY}}</h3>\n\t\t</div>\n\t`\n});","/**\n * Bitrix im dialog mobile\n * Registry class\n *\n * @package bitrix\n * @subpackage mobile\n * @copyright 2001-2019 Bitrix\n */\n\n// vue components\nimport 'pull.components.status';\nimport 'im.component.dialog';\n\n// dialog files\nimport \"./dialog.css\";\nimport {Dialog} from \"./dialog\";\n\n// widget components\n\nimport \"./component/bx-messenger\";\nimport \"./component/bx-messenger-body-error\";\nimport \"./component/bx-messenger-body-loading\";\nimport \"./component/bx-messenger-body-empty\";\n\nexport {Dialog}"],"names":["BaseRestAnswerHandler","LocalStorage","Timer","Utils","DeviceType","DeviceOrientation","ApplicationController","VuexBuilder","ApplicationModel","MessagesModel","DialoguesModel","FilesModel","UsersModel","ImRestAnswerHandler","Vue","Pull","ImPullCommandHandler","PullClient","RestMethodHandler","RestMethod","FileStatus","FileType","EventType","Vuex","Logger"],"mappings":"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"}